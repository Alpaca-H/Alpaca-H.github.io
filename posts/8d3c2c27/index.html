<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- å¼ºåˆ¶é¡µé¢åœ¨å½“å‰çª—å£ä»¥ç‹¬ç«‹é¡µé¢æ˜¾ç¤º,é˜²æ­¢åˆ«äººåœ¨æ¡†æ¶é‡Œè°ƒç”¨é¡µé¢ -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>docker-DokcerFile | Hexo</title>
  <meta name="description" content="learn docker ğŸ³">
<meta property="og:type" content="article">
<meta property="og:title" content="docker-DokcerFile">
<meta property="og:url" content="http://blog.noback.top/posts/8d3c2c27/index.html">
<meta property="og:site_name" content="Alpaca&#39;s blog | how to win">
<meta property="og:description" content="learn docker ğŸ³">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://img.noback.top/2020-02-06-20-53-20.png">
<meta property="article:published_time" content="2020-02-05T05:56:09.000Z">
<meta property="article:modified_time" content="2020-02-05T05:56:09.000Z">
<meta property="article:author" content="ä½•æ³½å›">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://img.noback.top/2020-02-06-20-53-20.png">
  <!-- Canonical links -->
  <link rel="canonical" href="http://blog.noback.top/posts/8d3c2c27/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Alpaca&#39;s blog | how to win" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 4.2.0"></head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/cofess" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">æ˜µç§°</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">Web Developer &amp; Designer</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shenzhen, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="æœç´¢" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">é¦–é¡µ</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">å½’æ¡£</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">åˆ†ç±»</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">æ ‡ç­¾</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">é¡¹ç›®</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-books">
          <a href="/books">
            
            <i class="icon icon-book-fill"></i>
            
            <span class="menu-title">ä¹¦å•</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">å‹é“¾</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">å…³äº</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/cofess" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://weibo.com/cofess" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="https://twitter.com/iwebued" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
        <li><a href="https://www.behance.net/cofess" target="_blank" title="Behance" data-toggle=tooltip data-placement=top><i class="icon icon-behance"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">å…¬å‘Š</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>æ¬¢è¿äº¤æµä¸åˆ†äº«ç»éªŒ!</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">åˆ†ç±»</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/checklist/">checklist</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/code/">code</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">34</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/linux/Command/">Command</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/ansible/">ansible</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/docker/">docker</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/linux-network/">linux-network</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/%E6%95%85%E9%9A%9C/">æ•…éšœ</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/">æ–‡ä»¶ç³»ç»Ÿ</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/%E8%84%9A%E6%9C%AC/">è„šæœ¬</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/">å·¥å…·</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%89%A9%E5%B1%95/">æ‰©å±•</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">æ•°æ®ç»“æ„</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/">æ¶æ„</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%B6%E6%9E%84/CI-CD/">CI-CD</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B/">ç¼–ç¨‹</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B/C%E8%AF%AD%E8%A8%80/">Cè¯­è¨€</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B/django/">django</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B/jwt/">jwt</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%BB%9C/">ç½‘ç»œ</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%BB%9C/extra/">extra</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%BB%9C/%E4%BA%8C%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA/">äºŒå±‚äº¤æ¢æœº</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%BB%9C/%E4%BA%A4%E6%8D%A2%E6%9C%BA/">äº¤æ¢æœº</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%BB%9C/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E9%83%A8%E7%BD%B2/">äº¤æ¢æœºéƒ¨ç½²</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%B0%E4%BA%8B%E6%9C%AC/">è®°äº‹æœ¬</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%BE%E5%A4%87/">è®¾å¤‡</a><span class="category-list-count">6</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">æ ‡ç­¾</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CI-CD/" rel="tag">CI-CD</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/code/" rel="tag">code</a><span class="tag-list-count">18</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/codee/" rel="tag">codee</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/daily/" rel="tag">daily</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/django/" rel="tag">django</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">mysql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rust/" rel="tag">rust</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/" rel="tag">vim</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">å·¥å…·</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" rel="tag">è´Ÿè½½å‡è¡¡</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">æ ‡ç­¾äº‘</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/CI-CD/" style="font-size: 13px;">CI-CD</a> <a href="/tags/code/" style="font-size: 14px;">code</a> <a href="/tags/codee/" style="font-size: 13.17px;">codee</a> <a href="/tags/daily/" style="font-size: 13px;">daily</a> <a href="/tags/django/" style="font-size: 13px;">django</a> <a href="/tags/git/" style="font-size: 13px;">git</a> <a href="/tags/linux/" style="font-size: 13.67px;">linux</a> <a href="/tags/mysql/" style="font-size: 13px;">mysql</a> <a href="/tags/nginx/" style="font-size: 13.17px;">nginx</a> <a href="/tags/python/" style="font-size: 13.33px;">python</a> <a href="/tags/rust/" style="font-size: 13.5px;">rust</a> <a href="/tags/vim/" style="font-size: 13px;">vim</a> <a href="/tags/vue/" style="font-size: 13.83px;">vue</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 13px;">å·¥å…·</a> <a href="/tags/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" style="font-size: 13.17px;">è´Ÿè½½å‡è¡¡</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">äºŒæœˆ 2020</a><span class="archive-list-count">23</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">ä¸€æœˆ 2020</a><span class="archive-list-count">36</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">åäºŒæœˆ 2019</a><span class="archive-list-count">31</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/linux/">linux</a>
              </p>
              <p class="item-title">
                <a href="/posts/40a08bb8/" class="title">linux-daily</a>
              </p>
              <p class="item-date">
                <time datetime="2020-02-14T09:03:34.000Z" itemprop="datePublished">2020-02-14</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E5%B7%A5%E5%85%B7/">å·¥å…·</a>
              </p>
              <p class="item-title">
                <a href="/posts/1f4442b1/" class="title">hello,new-world</a>
              </p>
              <p class="item-date">
                <time datetime="2020-02-14T07:35:13.000Z" itemprop="datePublished">2020-02-14</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E6%9E%B6%E6%9E%84/">æ¶æ„</a><i class="icon icon-angle-right"></i><a class="category-link" href="/categories/%E6%9E%B6%E6%9E%84/CI-CD/">CI-CD</a>
              </p>
              <p class="item-title">
                <a href="/posts/4115d0cd/" class="title">CI-CDå®è·µ</a>
              </p>
              <p class="item-date">
                <time datetime="2020-02-13T19:29:41.000Z" itemprop="datePublished">2020-02-14</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E7%BC%96%E7%A8%8B/">ç¼–ç¨‹</a><i class="icon icon-angle-right"></i><a class="category-link" href="/categories/%E7%BC%96%E7%A8%8B/django/">django</a>
              </p>
              <p class="item-title">
                <a href="/posts/88888022/" class="title">djangoå®é™…é¡¹ç›®ä¸­çš„æ¨¡å—è®¾è®¡</a>
              </p>
              <p class="item-date">
                <time datetime="2020-02-13T17:53:20.000Z" itemprop="datePublished">2020-02-14</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/linux/">linux</a><i class="icon icon-angle-right"></i><a class="category-link" href="/categories/linux/docker/">docker</a>
              </p>
              <p class="item-title">
                <a href="/posts/59fd12f/" class="title">swarmä¸k8sçš„åŒºåˆ«</a>
              </p>
              <p class="item-date">
                <time datetime="2020-02-10T06:49:28.000Z" itemprop="datePublished">2020-02-10</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<main class="main" role="main">
  <div class="content">
  <article id="post-blog_back_new/docker/4.docker-file" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      docker-DokcerFile
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/posts/8d3c2c27/" class="article-date">
	  <time datetime="2020-02-05T05:56:09.000Z" itemprop="datePublished">2020-02-05</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/linux/">linux</a>â–º<a class="article-category-link" href="/categories/linux/docker/">docker</a>
  </span>

        

        

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/posts/8d3c2c27/#comments" class="article-comment-link">è¯„è®º</a></span>
        
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <html><head></head><body><p>learn docker ğŸ³</p>
<a id="more"></a>


<h1 id="DokcerFile"><a href="#DokcerFile" class="headerlink" title="DokcerFile"></a>DokcerFile</h1><p>dockerfileæ„å»ºä¸‰æ­¥éª¤<br>dockerfile,docker build ,docker run</p>
<p>dockerfileyæœ‰å¾ˆå¤šå…·ä½“çš„å®ä¾‹å¯ä»¥åœ¨docker hubä¸Šçœ‹åˆ° ï¼Œæ¯”å¦‚</p>
<ul>
<li>centos<br><a href="https://hub.docker.com/_/centos" target="_blank" rel="noopener">https://hub.docker.com/_/centos</a><figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">FROM scratch</span><br><span class="line">ADD centos-7-x86_64-docker.tar.xz /</span><br><span class="line"></span><br><span class="line">LABEL org.label-schema.schema-version=<span class="hljs-string">"1.0"</span> \</span><br><span class="line">    org.label-schema.name=<span class="hljs-string">"CentOS Base Image"</span> \</span><br><span class="line">    org.label-schema.vendor=<span class="hljs-string">"CentOS"</span> \</span><br><span class="line">    org.label-schema.license=<span class="hljs-string">"GPLv2"</span> \</span><br><span class="line">    org.label-schema.build-date=<span class="hljs-string">"20191001"</span></span><br><span class="line"></span><br><span class="line">CMD [<span class="hljs-string">"/bin/bash"</span>] <span class="hljs-comment"># åœ¨è¿›å…¥å®¹å™¨åç¬¬ä¸€æ­¥æ‰§è¡Œçš„å‘½ä»¤</span></span><br></pre></td></tr></tbody></table></figure></li>
<li>tomcaté•œåƒ<br><a href="https://github.com/docker-library/tomcat/blob/807a2b4f219d70f5ba6f4773d4ee4ee155850b0d/8.5/jdk11/openjdk/Dockerfile" target="_blank" rel="noopener">https://github.com/docker-library/tomcat/blob/807a2b4f219d70f5ba6f4773d4ee4ee155850b0d/8.5/jdk11/openjdk/Dockerfile</a></li>
</ul>
<h2 id="dockerfileç¼–å†™è§„åˆ™"><a href="#dockerfileç¼–å†™è§„åˆ™" class="headerlink" title="dockerfileç¼–å†™è§„åˆ™"></a>dockerfileç¼–å†™è§„åˆ™</h2><ol>
<li>æ¯æ¡ä¿ç•™å­—æŒ‡ä»¤éƒ½å¿…é¡»ä¸ºå¤§å†™å­—æ¯ä¸”åé¢è¦è·Ÿè‡³å°‘ä¸€ä¸ªå‚æ•°</li>
<li>æŒ‡ä»¤æŒ‰ç…§é¡ºåºä»ä¸Šå€’ä¸‹ï¼Œä¾æ¬¡æ‰§è¡Œ</li>
<li>#è¡¨ç¤ºæ³¨é‡Š</li>
<li>æ¯æ¡æŒ‡ä»¤éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒå±‚ï¼Œå¹¶å¯¹é•œåƒè¿›è¡Œæäº¤</li>
</ol>
<h2 id="dockerfileæ‰§è¡Œé¡ºåº"><a href="#dockerfileæ‰§è¡Œé¡ºåº" class="headerlink" title="dockerfileæ‰§è¡Œé¡ºåº"></a>dockerfileæ‰§è¡Œé¡ºåº</h2><ol>
<li>dockerä»åŸºç¡€é•œåƒè¿è¡Œä¸€ä¸ªå®¹å™¨</li>
<li>æ‰§è¡Œä¸€æ¡æŒ‡ä»¤å¹¶å¯¹å®¹å™¨ä½œå‡ºä¿®æ”¹</li>
<li>æ‰§è¡Œç±»ä¼¼docker commitçš„æ“ä½œæäº¤ä¸€ä¸ªæ–°çš„é•œåƒå±‚</li>
<li>dockerå†åŸºäºåˆšæäº¤çš„é•œåƒè¿è¡Œä¸€ä¸ªæ–°å®¹å™¨</li>
<li>æ‰§è¡Œdockerfileä¸­çš„ä¸‹ä¸€è·³æŒ‡ä»¤ç›´åˆ°æ‰€æœ‰æŒ‡ä»¤éƒ½æ‰§è¡Œå®Œæˆ</li>
</ol>
<h2 id="dockerç¼–å†™å…³é”®å­—"><a href="#dockerç¼–å†™å…³é”®å­—" class="headerlink" title="dockerç¼–å†™å…³é”®å­—"></a>dockerç¼–å†™å…³é”®å­—</h2><ul>
<li>FROM<br>å£°æ˜åŸºç¡€é•œåƒï¼Œå¦‚centosä¸­å£°æ˜çš„scratch</li>
<li>MAINTAINER<br>é•œåƒç»´æŠ¤è€…çš„å§“åå’Œé‚®ç®±åœ°å€</li>
<li>LABEL<br>é•œåƒç‰ˆæœ¬ä¿¡æ¯</li>
<li>RUN<br>å®¹å™¨æ„å»ºæ—¶éœ€è¦è¿è¡Œçš„å‘½ä»¤ï¼Œå¯ä»¥ç”¨ \ åˆ†è¡Œ</li>
<li>EXPOSE<br>æš´éœ²ç«¯å£ï¼Œæ¯”å¦‚tomcaté•œåƒä¸­çš„dockerfile ä»–exposeäº†ä¸€ä¸ª8080ç«¯å£ï¼Œå½“æˆ‘ä»¬åœ¨ç”¨-PéšæœºæŒ‡å®šç«¯å£çš„æ—¶å€™ï¼Œä»–ä¼šé»˜è®¤æ˜ å°„æˆ‘ä»¬æ‰€æš´éœ²çš„ç«¯å£ï¼Œå¦‚8080</li>
<li>WORKDIR<br>ç™»é™†ä¹‹åçš„å·¥ä½œç›®å½•</li>
<li>ENV<br>ç”¨æ¥æ„å»ºé•œåƒè¿‡ç¨‹ä¸­è®¾ç½®ç¯å¢ƒå˜é‡</li>
<li>ADD<br>æ‹·è´å¹¶è§£å‹åˆ°é•œåƒä¸­</li>
<li>COPY<br>æ‹·è´æ–‡ä»¶åˆ°é•œåƒä¸­ï¼Œå†™æ³•:<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">COPY src dest</span><br><span class="line">COPY [<span class="hljs-string">"src"</span>,<span class="hljs-string">"dest"</span>]</span><br></pre></td></tr></tbody></table></figure></li>
<li>VOLUME<br>å®¹å™¨æ•°æ®å·,ç”¨äºæ•°æ®ä¿å­˜å’ŒæŒä¹…åŒ–å·¥ä½œ,å†™æ³•:<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">VOLUME [<span class="hljs-string">"/data/"</span>,<span class="hljs-string">"/data1/"</span>,]</span><br></pre></td></tr></tbody></table></figure></li>
<li>CMD<br>dockerfileä¸­å¯ä»¥æœ‰å¤šä¸ªCMDå‘½ä»¤,ä½†åªæœ‰æœ€åä¸€ä¸ªç”Ÿæ•ˆï¼Œä¸”CMDä¼šè¢«docker runä¹‹åçš„CMDæ›¿æ¢æ‰ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨å¯åŠ¨ä¸€ä¸ªé•œåƒçš„æ—¶å€™ä¼šæ‰§è¡Œdocker run -it centos /bin/bash<br>æŒ‡å®šä¸€ä¸ªå®¹å™¨è¦è¿è¡Œæ—¶ï¼Œå¯åŠ¨çš„å‘½ä»¤,å†™æ³•:<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-comment"># shell æ ¼å¼</span></span><br><span class="line">CMD <å‘½ä»¤></span><br><span class="line"><span class="hljs-comment"># exec æ ¼å¼</span></span><br><span class="line">CMD [<span class="hljs-string">"å¯æ‰§è¡Œæ–‡ä»¶"</span>,<span class="hljs-string">"å‚æ•°1"</span>,<span class="hljs-string">"å‚æ•°2"</span>]</span><br><span class="line"><span class="hljs-comment"># å‚æ•°åˆ—è¡¨æ ¼å¼</span></span><br><span class="line">CMN [<span class="hljs-string">'å‚æ•°1'</span>,<span class="hljs-string">'å‚æ•°2'</span>]</span><br></pre></td></tr></tbody></table></figure></li>
<li>ENTRYPOINT<br>æŒ‡å®šä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤ï¼Œä¸ä¼šè¢«æ›¿æ¢</li>
<li>ONBUILD<br>å½“æ„å»ºä¸€ä¸ªè¢«ç»§æ‰¿çš„Dockerfileæ—¶è¿è¡Œå‘½ä»¤,çˆ¶é•œåƒåœ¨è¢«å­ç»§æ‰¿åï¼Œçˆ¶é•œåƒçš„onbuildè¢«è§¦å‘</li>
</ul>
<h3 id="ADDå’ŒCOPY-ä»¥åŠè¿œç¨‹æ–‡ä»¶çš„æ·»åŠ "><a href="#ADDå’ŒCOPY-ä»¥åŠè¿œç¨‹æ–‡ä»¶çš„æ·»åŠ " class="headerlink" title="ADDå’ŒCOPY ä»¥åŠè¿œç¨‹æ–‡ä»¶çš„æ·»åŠ "></a>ADDå’ŒCOPY ä»¥åŠè¿œç¨‹æ–‡ä»¶çš„æ·»åŠ </h3><p>ADDä¸ä½†å¯ä»¥å¤åˆ¶è¿˜å¯ä»¥è§£å‹</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">ADD xx.tar.gz /</span><br><span class="line">COPY xx /tmp/data1/</span><br></pre></td></tr></tbody></table></figure>

<p><font color="red">æ·»åŠ è¿œç¨‹æ–‡ä»¶/ç›®å½• ä½¿ç”¨RUN curl | RUN wget </font></p>
<h3 id="WORKDIR"><a href="#WORKDIR" class="headerlink" title="WORKDIR"></a>WORKDIR</h3><p>WORKDIRè¡¨ç¤ºå·¥ä½œç›®å½•</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">WORKDIR /<span class="hljs-built_in">test</span></span><br></pre></td></tr></tbody></table></figure>
<p>å¦‚æœæ²¡æœ‰testå·¥ä½œç›®å½•ï¼Œåˆ™ä¼šè‡ªåŠ¨åˆ›å»º</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">WORKDIR /<span class="hljs-built_in">test</span></span><br><span class="line">WORKDIR demo1</span><br></pre></td></tr></tbody></table></figure>
<p>ä»¥ä¸Šä¼šç”Ÿæˆçš„å·¥ä½œç›®å½•æ˜¯/test/demo1</p>
<p><font color="red">å°½é‡ä½¿ç”¨ç»å¯¹ç›®å½•</font></p>
<h3 id="CMDä¸ENTRYPOINT"><a href="#CMDä¸ENTRYPOINT" class="headerlink" title="CMDä¸ENTRYPOINT"></a>CMDä¸ENTRYPOINT</h3><p>åœ¨tomcatçš„å®˜æ–¹é•œåƒåŒ…ä¸­ï¼Œdockerfileé‡Œé¢çš„æœ€åæœ‰è¿™ä¹ˆä¸€å¥CMD</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">CMD [<span class="hljs-string">"catalina.sh"</span>,<span class="hljs-string">"run"</span>]</span><br></pre></td></tr></tbody></table></figure>
<p>æ„æ€å°±æ˜¯è¯´åœ¨dokcer runæ²¡æœ‰åŠ CMDçš„æƒ…å†µä¸‹å¯åŠ¨æ—¶ï¼Œä¼šå»è¿è¡ŒCMD [â€œcatalina.shâ€,â€runâ€] è¿™ä¸€ä¸²å†…å®¹ã€‚</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">06-Feb-2020 05:29:22.623 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 389 ms</span><br><span class="line">06-Feb-2020 05:29:22.639 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]</span><br><span class="line">06-Feb-2020 05:29:22.639 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.5.50</span><br><span class="line">06-Feb-2020 05:29:22.647 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler ["http-nio-8080"]</span><br><span class="line">06-Feb-2020 05:29:22.653 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler ["ajp-nio-8009"]</span><br><span class="line">06-Feb-2020 05:29:22.655 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in 32 ms</span><br></pre></td></tr></tbody></table></figure>
<p>ä½†å¦‚æœæˆ‘ä»¬åœ¨åé¢åŠ äº†å¦‚ /bin/bash</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">root:/tmp<span class="hljs-comment"># docker run -it -P tomcat /bin/bash</span></span><br><span class="line">root@2ee3ee482178:/usr/<span class="hljs-built_in">local</span>/tomcat<span class="hljs-comment">#</span></span><br></pre></td></tr></tbody></table></figure>
<p>ä»–å°±ä¸å›å»è¿è¡Œè¿™ä¸ªcatalina.shè¿™ä¸ªç¨‹åº</p>
<p><font color="red">ENTRYPOINTå¯ä»¥å°†å‚æ•°ç´¯åŠ </font></p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">FROM centos</span><br><span class="line">RUN yum install curl -y</span><br><span class="line">ENTRYPOINT  [<span class="hljs-string">"curl"</span>,<span class="hljs-string">"-s"</span>,<span class="hljs-string">"https://ip.cn/"</span>]</span><br><span class="line"></span><br><span class="line">docker run -it centos   ->  [<span class="hljs-string">"curl"</span>,<span class="hljs-string">"-s"</span>,<span class="hljs-string">"https://ip.cn/"</span>]  </span><br><span class="line">docker run -it centos -i  -> [<span class="hljs-string">"curl"</span>,<span class="hljs-string">"-s"</span>,<span class="hljs-string">"-i"</span>,<span class="hljs-string">"https://ip.cn/"</span>]</span><br></pre></td></tr></tbody></table></figure>

<p><font color="red">ä¸¤ç§é£æ ¼çš„ç¼–å†™æ ¼å¼</font><br><img src="http://img.noback.top/2020-02-06-20-53-20.png" alt="2020-02-06-20-53-20"></p>
<h3 id="ONBUILDä½¿ç”¨"><a href="#ONBUILDä½¿ç”¨" class="headerlink" title="ONBUILDä½¿ç”¨"></a>ONBUILDä½¿ç”¨</h3><p>ONBUILDå°±æ˜¯åœ¨ç»§æ‰¿çˆ¶å®¹å™¨ä¹‹åï¼Œå¦‚æœå­å®¹å™¨è¿è¡Œäº†ï¼Œå°±ä¼šåœ¨çˆ¶å®¹å™¨ä¸­è¿è¡ŒONBUILDåé¢çš„å‘½ä»¤</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">FROM centos</span><br><span class="line">RUN yum install -y curl</span><br><span class="line">ENTRYPOINT [<span class="hljs-string">"curl"</span>,<span class="hljs-string">"-s"</span>,<span class="hljs-string">"https://ip.cn/"</span>] </span><br><span class="line">ONBUILD RUN <span class="hljs-built_in">echo</span> <span class="hljs-string">"son is run "</span></span><br></pre></td></tr></tbody></table></figure>
<p>çˆ¶å®¹å™¨ä¸ºm1 å­å®¹å™¨ä¸ºm2,è¿™é‡Œçš„ç»§æ‰¿å°±æ˜¯è¯´ä»¥çˆ¶å®¹å™¨é•œåƒä¸ºåŸºæœ¬æ¨¡ç‰ˆåˆ›å»ºçš„å­é•œåƒåç”Ÿæˆçš„å­å®¹å™¨</p>
<h2 id="ç¼–å†™å®ä¾‹"><a href="#ç¼–å†™å®ä¾‹" class="headerlink" title="ç¼–å†™å®ä¾‹"></a>ç¼–å†™å®ä¾‹</h2><h3 id="ä¸€ä¸ªæŒ‚è½½æ–‡ä»¶çš„dockerfile"><a href="#ä¸€ä¸ªæŒ‚è½½æ–‡ä»¶çš„dockerfile" class="headerlink" title="ä¸€ä¸ªæŒ‚è½½æ–‡ä»¶çš„dockerfile"></a>ä¸€ä¸ªæŒ‚è½½æ–‡ä»¶çš„dockerfile</h3><figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">FROM centos</span><br><span class="line">VOLUME [<span class="hljs-string">"data1/"</span>,<span class="hljs-string">"data2/"</span>]  <span class="hljs-comment"># è¿™ç§å®šä¹‰æ–¹å¼æ— æ³•åƒå‘½ä»¤ä¸€æ ·æŒ‡å®šæœ¬åœ°çš„æ–‡ä»¶</span></span><br><span class="line">CMD <span class="hljs-built_in">echo</span> <span class="hljs-string">"VOLUME TEST!"</span></span><br><span class="line">CMD /bin/bash</span><br></pre></td></tr></tbody></table></figure>
<p>æ ¹æ®ç¼–å†™çš„dockerfileæ„å»ºè‡ªå®šä¹‰é•œåƒ</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">docker build -f /tmp/dockerfile -t hzj/centos .</span><br></pre></td></tr></tbody></table></figure>
<p>ä½¿ç”¨InspectæŸ¥çœ‹æŒ‚è½½çš„æ–‡ä»¶è·¯å¾„</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">docker inspect hzj/centos</span><br></pre></td></tr></tbody></table></figure>
<p>å‡ºç°æŒ‚è½½çš„è·¯å¾„</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">"Mounts": [</span><br><span class="line">            {</span><br><span class="line">                "Type": "volume",</span><br><span class="line">                "Name": "2a8601766a8ec82c39132bc64c2c99546053cb4104bd94507f215b888e60464d",</span><br><span class="line">                "Source": "/var/lib/docker/volumes/2a8601766a8ec82c39132bc64c2c99546053cb4104bd94507f215b888e60464d/_data",</span><br><span class="line">                "Destination": "/data2",</span><br><span class="line">                "Driver": "local",</span><br><span class="line">                "Mode": "",</span><br><span class="line">                "RW": true,</span><br><span class="line">                "Propagation": ""</span><br><span class="line">            },</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ç”¨dockerfileåˆ›å»ºä¸€ä¸ªcentosé•œåƒ"><a href="#ç”¨dockerfileåˆ›å»ºä¸€ä¸ªcentosé•œåƒ" class="headerlink" title="ç”¨dockerfileåˆ›å»ºä¸€ä¸ªcentosé•œåƒ"></a>ç”¨dockerfileåˆ›å»ºä¸€ä¸ªcentosé•œåƒ</h3><p>åˆå§‹centosé•œåƒåªæœ‰æœ€åŸºæœ¬çš„kernelå†…å®¹ï¼Œå¹¶æ²¡æœ‰å…¶ä»–çš„è½¯ä»¶ï¼Œæ¯”å¦‚vimï¼Œæ¯”å¦‚ifconfigç­‰ã€‚ä½¿ç”¨dockerfileåˆ›å»ºä¸€ä¸ªcentosç³»ç»Ÿ</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">FROM centos <span class="hljs-comment"># åŸºäºcentosï¼Œç½‘ä¸Šå†™ä¸œè¥¿ å†ç”Ÿæˆé•œåƒ  é•œåƒçš„åˆ†å±‚åŸç†</span></span><br><span class="line">MAINTAINER hzj<a1097690268@gmail.com> <span class="hljs-comment"># ä½œè€…ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line">ENV workdir /usr/<span class="hljs-built_in">local</span> <span class="hljs-comment"># ç”³æ˜ç¯å¢ƒå˜é‡</span></span><br><span class="line">WORKDIR <span class="hljs-variable">$workdir</span> <span class="hljs-comment"># è®¾ç½®ç™»é™†åçš„å·¥ä½œç¯å¢ƒ</span></span><br><span class="line"></span><br><span class="line">RUN yum -y install vim</span><br><span class="line">RUN yum -y install net-tools</span><br><span class="line"></span><br><span class="line">EXPOSE 80 <span class="hljs-comment"># æš´éœ²ç«¯å£</span></span><br><span class="line"></span><br><span class="line">CMD <span class="hljs-built_in">echo</span> <span class="hljs-variable">$workdir</span></span><br><span class="line">CMD <span class="hljs-built_in">echo</span> <span class="hljs-string">"success"</span></span><br><span class="line">CMD /bin/bash</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">docker  build  -f dockerfile -t hzj/centos:v3 .</span><br></pre></td></tr></tbody></table></figure>

<h3 id="dockerå¼€å¯mysqlé•œåƒ"><a href="#dockerå¼€å¯mysqlé•œåƒ" class="headerlink" title="dockerå¼€å¯mysqlé•œåƒ"></a>dockerå¼€å¯mysqlé•œåƒ</h3><figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">docker pull mysql</span><br><span class="line">docker run -p 12345:3306 --name mysql \</span><br><span class="line">-v /conf/mysql/conf:/etc/mysql/conf.d \</span><br><span class="line">-v /conf/mysql/logs:/logs \ </span><br><span class="line">-v /conf/mysql/data:/var/lib/mysql \</span><br><span class="line">-e MYSQL_ROOT_PASSWD=123456 \ <span class="hljs-comment">#åˆå§‹åŒ–å¯†ç </span></span><br><span class="line">-d mysql:5.6</span><br></pre></td></tr></tbody></table></figure>

<h3 id="dockerå¼€å¯redisé•œåƒ"><a href="#dockerå¼€å¯redisé•œåƒ" class="headerlink" title="dockerå¼€å¯redisé•œåƒ"></a>dockerå¼€å¯redisé•œåƒ</h3><figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">docker pull redis</span><br><span class="line">docker run -p 6379:6379 \</span><br><span class="line">-v /hzj/myredis/data:/data \</span><br><span class="line">-v /hzj/myredis/conf/redis.conf:/usr/<span class="hljs-built_in">local</span>/etc/redis/redis.conf \ </span><br><span class="line">-d redis:3.2 redis-server /usr/<span class="hljs-built_in">local</span>/etc/redis/redis.conf \</span><br><span class="line">--appendonly yes</span><br></pre></td></tr></tbody></table></figure>

<h3 id="dockerå®‰è£…stresså‹åŠ›æµ‹è¯•è½¯ä»¶"><a href="#dockerå®‰è£…stresså‹åŠ›æµ‹è¯•è½¯ä»¶" class="headerlink" title="dockerå®‰è£…stresså‹åŠ›æµ‹è¯•è½¯ä»¶"></a>dockerå®‰è£…stresså‹åŠ›æµ‹è¯•è½¯ä»¶</h3><figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">FROM ubuntu</span><br><span class="line">RUN apt-get update && apt-get install stress -y</span><br><span class="line">ENTRYPOINT [<span class="hljs-string">"/usr/bin/stress"</span>]</span><br><span class="line"><span class="hljs-comment"># ENTRYPOINT ["/bin/bash","-c","stress"]</span></span><br><span class="line">CMD []</span><br></pre></td></tr></tbody></table></figure>
<p>ç”Ÿæˆé•œåƒ</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">dokcer build -f dockerfile -t new/ubuntu-stress .</span><br></pre></td></tr></tbody></table></figure>
<p>åˆ©ç”¨é•œåƒè¿è¡Œå®¹å™¨</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-comment"># ä¸åŠ å‚æ•° /usr/bin/stress</span></span><br><span class="line">root:~<span class="hljs-comment"># docker  run -it   new/ubuntu-stress</span></span><br><span class="line"><span class="hljs-string">'stress'</span> imposes certain types of compute stress on your system</span><br><span class="line"></span><br><span class="line">Usage: stress [OPTION [ARG]] ...</span><br><span class="line"> -?, --<span class="hljs-built_in">help</span>         show this <span class="hljs-built_in">help</span> statement</span><br><span class="line">     --version      show version statement</span><br><span class="line"> -v, --verbose      be verbose</span><br><span class="line"> -q, --quiet        be quiet</span><br><span class="line"> -n, --dry-run      show what would have been <span class="hljs-keyword">done</span></span><br><span class="line"> -t, --timeout N    timeout after N seconds</span><br><span class="line">     --backoff N    <span class="hljs-built_in">wait</span> factor of N microseconds before work starts</span><br><span class="line"> -c, --cpu N        spawn N workers spinning on sqrt()</span><br><span class="line"> -i, --io N         spawn N workers spinning on sync()</span><br><span class="line"> -m, --vm N         spawn N workers spinning on malloc()/free()</span><br><span class="line">     --vm-bytes B   malloc B bytes per vm worker (default is 256MB)</span><br><span class="line">     --vm-stride B  touch a byte every B bytes (default is 4096)</span><br><span class="line">     --vm-hang N    sleep N secs before free (default none, 0 is inf)</span><br><span class="line">     --vm-keep      redirty memory instead of freeing and reallocating</span><br><span class="line"> -d, --hdd N        spawn N workers spinning on write()/unlink()</span><br><span class="line">     --hdd-bytes B  write B bytes per hdd worker (default is 1GB)</span><br><span class="line"></span><br><span class="line">Example: stress --cpu 8 --io 4 --vm 2 --vm-bytes 128M --timeout 10s</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># åŠ å‚æ•° /usr/bin/stress -m 1</span></span><br><span class="line">root:~<span class="hljs-comment"># docker  run -it   new/ubuntu-stress -m 1</span></span><br><span class="line">stress: info: [1] dispatching hogs: 0 cpu, 0 io, 1 vm, 0 hdd</span><br><span class="line">^Cstress: FAIL: [1] (415) <-- worker 6 got signal 2</span><br><span class="line">stress: WARN: [1] (417) now reaping child worker processes</span><br><span class="line">stress: FAIL: [1] (421) <span class="hljs-built_in">kill</span> error: No such process</span><br><span class="line">stress: FAIL: [1] (451) failed run completed <span class="hljs-keyword">in</span> 2s</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ç½‘å€"><a href="#ç½‘å€" class="headerlink" title="ç½‘å€"></a>ç½‘å€</h2><p>dockerå®˜æ–¹æä¾›çš„ä¸€ä¸ªdockerfileç¼–å†™çš„è§„èŒƒ<br><a href="https://docs.docker.com/engine/reference/builder/" target="_blank" rel="noopener">https://docs.docker.com/engine/reference/builder/</a><br>dockeré•œåƒå‘å¸ƒåˆ°docker-hubä¸Šé¢<br><a href="https://coding.imooc.com/lesson/189.html#mid=11620" target="_blank" rel="noopener">https://coding.imooc.com/lesson/189.html#mid=11620</a></p>
</body></html>
      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="http://blog.noback.top/posts/8d3c2c27/" title="docker-DokcerFile" target="_blank" rel="external">http://blog.noback.top/posts/8d3c2c27/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>ç‰ˆæƒå£°æ˜ï¼š </strong> æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CNåè®®</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/cofess" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.jpg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/cofess" target="_blank"><span class="text-dark">æ˜µç§°</span><small class="ml-1x">Web Developer &amp; Designer</small></a></h3>
        <div>ä¸ªäººç®€ä»‹ã€‚</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
      <div id="vcomments"></div>
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/posts/d99f9929/" title="dockerè§†é¢‘"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;ä¸Šä¸€ç¯‡</span></a>
    </li>
    
    
    <li class="next">
      <a href="/posts/5f4d14d2/" title="dockerå®¹å™¨æ•°æ®å·"><span>ä¸‹ä¸€ç¯‡&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
  </ul>
  
  
  
  <div class="bar-right">
    
  </div>
  </div>
</nav>
  


</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/cofess" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://weibo.com/cofess" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="https://twitter.com/iwebued" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
        <li><a href="https://www.behance.net/cofess" target="_blank" title="Behance" data-toggle=tooltip data-placement=top><i class="icon icon-behance"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'æ–‡ç« ',
            PAGES: 'é¡µé¢',
            CATEGORIES: 'åˆ†ç±»',
            TAGS: 'æ ‡ç­¾',
            UNTITLED: '(æœªå‘½å)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   




   
    
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine"></script>
  <script type="text/javascript">
  var GUEST = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link';
  meta = meta.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#vcomments',
    verify: false,
    notify: false,
    appId: '',
    appKey: '',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: meta,
    pageSize: '10' || 10,
    visitor: false
  });
  </script>

     







</body>
</html>