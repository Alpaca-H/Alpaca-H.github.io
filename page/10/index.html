<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8">
<title>Alpaca&#39;s blog | how to win</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />



    <meta property="og:type" content="website">
<meta property="og:title" content="Alpaca&#39;s blog | how to win">
<meta property="og:url" content="http://blog.noback.top/page/10/index.html">
<meta property="og:site_name" content="Alpaca&#39;s blog | how to win">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://blog.noback.top/images/og_image.png">
<meta property="article:author" content="ä½•æ³½å›">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://blog.noback.top/images/og_image.png">







<link rel="icon" href="/images/datadog.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/androidstudio.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    
        <script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    

    


<link rel="stylesheet" href="/css/style.css">
<meta name="generator" content="Hexo 4.2.0"></head>
<body class="is-3-column" background="http://img.noback.top/background.jpg">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="http://image.noback.top/datadog.svg" alt="Alpaca&#39;s blog | how to win" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/rust/">rustğŸ¦€ï¸</a>
                
                <a class="navbar-item"
                href="/archives/">Archives</a>
                
                <a class="navbar-item"
                href="/categories/">Categories</a>
                
                <a class="navbar-item"
                href="/tags/">Tags</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="AlphaLxy GitHub" href="https://github.com/Alpaca-H/o">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="æœç´¢" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    <div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/posts/7068483c/"><i class="fas fa-angle-double-right"></i>DRFæ¡†æ¶</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-12-29T12:42:23.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2019-12-29</time>
                
                
                <div class="level-item">
                <i class="far fa-folder-open has-text-grey"></i>&nbsp;
                <a class="has-link-grey -link" href="/categories/%E7%BC%96%E7%A8%8B/">ç¼–ç¨‹</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/%E7%BC%96%E7%A8%8B/django/">django</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    <i class="far fa-clock"></i>&nbsp;
                    
                    
                    15 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 2186 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <div class="content">
            <html><head></head><body><h2 id="rusté£æ ¼"><a href="#rusté£æ ¼" class="headerlink" title="rusté£æ ¼"></a>rusté£æ ¼</h2><p>Representational State Transfer  è¡¨ç°å±‚çŠ¶æ€è½¬åŒ–ï¼ˆ èµ„æºå®šä½åŠèµ„æºæ“ä½œï¼‰<br>è¡¨è±¡å±‚é¢è¯´å°±æ˜¯é€šè¿‡get,post,put,deleteæ–¹å¼æ¥å®ç°å‰åå°é€šä¿¡çš„ä¸€ç§è½»é‡çº§,è·¨å¹³å°,è·¨è¯­è¨€æ¶æ„è®¾è®¡é£æ ¼çš„webæœåŠ¡</p>
<p>httpä¸ä»…ä»…æ˜¯ä¼ è¾“åè®®ï¼Œæ›´æ˜¯ä¸€ç§åº”ç”¨åè®®ã€‚RESTï¼Œå³Representational State Transferçš„ç¼©å†™ã€‚æ„ä¸ºæ˜¯â€è¡¨ç°å±‚çŠ¶æ€è½¬åŒ–â€ã€‚RESTfulè¡¨ç¤ºä¸€ç§é£æ ¼ï¼Œç†è§£RESTå‰éœ€è¦ç†è§£èµ„æºï¼Œä½•è°“èµ„æºï¼Œå¹¿ä¹‰çš„èµ„æºæ˜¯æŒ‡å¯ä»¥æ“ä½œçš„æ‰€æœ‰å¯¹è±¡ã€‚å¯èƒ½æ˜¯ä¸€ä¸ªç³»ç»Ÿèµ„æºï¼Œå¦‚txtã€jgpã€xml â€¦ï¼Œäº¦å¯ä»¥æ˜¯è¯¸å¦‚è‡ªå·±å®šä¹‰çš„è™šæ‹Ÿé›†åˆçš„æŠ½è±¡ï¼Œå¦‚booksã€usrsã€timesã€‚RESTfutlä»£è¡¨ä¸€ç§ç®€æ´ã€æ–¹ä¾¿ã€å¿«æ·ã€é«˜æ•ˆã€é€æ˜çš„æ¶æ„ï¼Œè¿™å–å†³äºä½ æ€æ ·ç»„åˆã€‚å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p>
<p>1ã€è§„èŒƒåŒ–æ¥å£è®¿é—®æ–¹å¼ã€‚è¿™äº›httpæ“ä½œæ–¹æ³•åŒ…æ‹¬GET/POST/PUT/DELETE/OPTIONSç­‰ï¼Œæ¯ä¸ªæ“ä½œæ–¹æ³•éƒ½ä»£è¡¨ä¸€ä¸ªç›¸åŒæ„ä¹‰çš„æ“ä½œï¼Œå®ƒå‘æ‰€æœ‰äººé€æ˜åœ°è¡¨æ˜æ“ä½œæ–¹å¼ã€‚æ¯”å¦‚GETåªèƒ½è¯»å–/æ‹‰æ•°æ®ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥æ˜¯æ·»åŠ æ•°æ®ï¼Œä½†å»ºè®®ä¸è¦è¿™ä¹ˆåšï¼Œä¸ç„¶è¿™æ ·å°±å¤±å»äº†RESTçš„æ„ä¹‰ã€‚<br>GET è¯»å–<br>POST æ·»åŠ <br>PUT ä¿®æ”¹<br>DELETE åˆ é™¤<br>2ã€èµ„æºæ ‡è¯†å”¯ä¸€ã€‚é€šè¿‡URIè¡¨ç¤ºä¸€ä¸ªèµ„æºåç§°ï¼Œå½¢å¼/resource/patchã€‚å¦‚/usersï¼Œè¡¨ç¤ºç”¨æˆ·çš„ç»„åˆï¼Œæˆ–ç”¨æˆ·ç¾¤ã€‚å½“ç„¶è¿˜å¯ä»¥ç»§ç»­æ ‡è¯†æŸä¸ªå…·ä½“çš„ä¸€ä¸ªç”¨æˆ·ï¼Œ/users/11ï¼Œè¡¨ç¤ºidä¸º11çš„ç”¨æˆ·ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åˆç”¨ä¸€ç»„/usrgroup/11çš„URIä»£è¡¨æ“ä½œç”¨æˆ·ç»„ï¼Œä¸è¿‡ä¸å»ºè®®è¿™ä¹ˆåšï¼Œå› ä¸ºè¿™æ ·ä»å­—é¢ä¸Šé‡å¤äº†/users/11èµ„æºè¡¨ç¤ºçš„å†…å®¹ã€‚ä¸€ä¸ªèµ„æºURIæ€»æ˜¯åŒ…å«ç¬¬ä¸€æ¡å®ç°çš„æ–¹æ³•ï¼š<br>GET /users/11<br>POST /users/11<br>PUT /users/11<br>DELETE /users/11<br>å½“ç„¶ï¼Œä»…æœ‰è¿™äº›è¿˜ä¸è¶³ä»¥åŒ…æ‹¬èµ„æºæ“ä½œçš„æ‰€æœ‰éœ€æ±‚ï¼Œæ‰€ä»¥è¿˜å¯ä»¥åŒ…å«è¯·æ±‚å‚æ•°ï¼Œå¦‚GET /users?type=list&page=1ã€‚<br>3ã€çŠ¶æ€çš„è½¬åŒ–ã€‚è¿™å°±æ˜¯RESTçš„çœŸå®å«ä¹‰ï¼ŒæŒ‡å®ƒå…è®¸èµ„æºURIå…·æœ‰ä¸åŒçš„è¡¨ç°å½¢å¼ã€‚åŒä¸€ä¸ªURIï¼Œæ ¹æ®ä¸åŒè¯·æ±‚æ–¹å¼ï¼Œæ‰§è¡Œçš„åŠ¨ä½œä¸åŒï¼›è¿˜å¯ä»¥æ ¹æ®è¯·æ±‚çš„Header Acceptçš„ä¸åŒè¿”å›ä¸åŒçš„ç»“æœï¼Œå¦‚text/htmlã€text/cssã€text/xmlç­‰ç­‰ã€‚ä¹Ÿå¯ä»¥ç†è§£ä¸ºbodyä¸åŒã€‚å¦‚æŸ¥è¯¢å¿«é€’ä¸€èˆ¬ï¼Œå¯ä»¥ä¸Šæ¬¡æŸ¥è¯¢ï¼Œç‰©å“è¿˜åœ¨ä»“åº“ï¼Œè€Œè¿‡ä¸€æ®µæ—¶é—´å·²ç»åœ¨è·¯ä¸Šäº†ã€‚å®ƒè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªäº’åŠ¨è¿‡ç¨‹ã€‚<br>4ã€æ‰€æœ‰ä¿¡æ¯éƒ½åŒ…å«åœ¨å½“å‰è¯·æ±‚ä¸­ã€‚è¯·æ±‚çš„æ–¹å¼åŒ…å«åœ¨ Request Headerçš„Methodä¸­ï¼Œè¿˜å¯ä»¥åŒ…å«Acceptã€Accept-Encodingã€Accept-Languageï¼Œä½¿ç”¨Authenticationã€Cookieç­‰ä¿¡æ¯è¡¨æ˜èº«ä»½ã€‚åŒæ ·ï¼ŒæœåŠ¡ç«¯é€šè¿‡å‘é€Content-Lengthã€Content-Typeå“åº”æ‰§è¡Œæƒ…å†µã€‚æœ€é‡è¦çš„æ˜¯ï¼Œéœ€è¦è¿”å›Status Codeé€šçŸ¥æ‰§è¡ŒçŠ¶æ€ï¼Œå¦‚200 201 400 404 500ç­‰http codeã€‚RESTè®¤ä¸ºï¼Œæ‰€æœ‰ä¿¡æ¯éƒ½èƒ½é€šè¿‡è¯·æ±‚ä¸€æ¬¡æ€§å‘é€ï¼Œè€Œä¸å¿…å†é‡‡ç”¨æ–¹å¼ä¿å­˜çŠ¶æ€ï¼Œè¯·æ±‚çš„ä¿¡æ¯æœ¬èº«å·²ç»è¯´æ˜äº†è¯·æ±‚çš„æ„ä¹‰ã€‚<br>5ã€æ— çŠ¶æ€æ€§ã€‚è¿™æ˜¯RESTæœ€é‡è¦çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œè¿™ä¸ªçŠ¶æ€æŒ‡çš„æ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯æ— éœ€ä¸ºæ¯æ¬¡ä¿å­˜è¯·æ±‚çŠ¶æ€ï¼Œå®¢æˆ·ç«¯è¯·æ±‚ä¸å¿…è€ƒè™‘å½“å‰çŠ¶æ€ï¼Œä¸å¿…è€ƒè™‘ä¸Šä¸‹æ–‡ã€‚å…·ä½“ä¸Šè¯´ï¼Œå°±æ˜¯ä¸å¿…ä½¿ç”¨sessionç­‰å·¥å…·è·Ÿè¸ªã€ä¿å­˜è¯·æ±‚çš„ç‰¹æ®Šæ€§ã€‚æ¯”å¦‚ï¼Œæ— è®ºæ˜¯è°ï¼Œä»å“ªé‡Œå‘é€ï¼Œå‡ æ—¶å‘é€ï¼Œå¯¹åŒä¸€ä¸ªURIèµ„æºå‘é€è¯·æ±‚çš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ã€‚æ®ä¼ ï¼Œè¿™æ ·çš„è®¾è®¡æ˜¯ä¸ºå½“ä¸€å°æœåŠ¡å™¨å®•æœºæ—¶ï¼Œå¦ä¸€å°æœåŠ¡å™¨å¯ä»¥æ— å·®åˆ«åœ°å“åº”å¯¹æ–¹çš„è¯·æ±‚ã€‚å®¢æˆ·ç«¯è¯·æ±‚åªè®¤URIï¼Œè€Œä¸éœ€ç†åå°çš„è®¾è®¡ã€‚<br>å®é™…ä¸Šï¼Œåœ¨å¦‚ä»Šæ‰§è¡Œçš„RESTfulè®¾è®¡å½“ä¸­ï¼Œå®Œå…¨èƒ½æ‰§è¡Œè¿™ä¸ªè¦æ±‚çš„å¾ˆå°‘ï¼Œæœ€å½»åº•çš„äº‘æœåŠ¡ï¼Œå¤§éƒ¨ä»½ä¸ºRESTful-likeçš„é£æ ¼ã€‚<br>6ã€å¯å®ç°è¯·æ±‚ç¼“å­˜ã€‚é€šè¿‡ç¼“å­˜å‡å°‘è¯·æ±‚æ¬¡æ•°ï¼Œåœ¨HTTPå“åº”é‡Œåˆ©ç”¨Cache-Controlã€Expiresã€Last-Modifiedä¸‰ä¸ªå¤´å­—æ®µï¼Œå¯ä»¥è®©æµè§ˆå™¨ç¼“å­˜èµ„æºä¸€æ®µæ—¶é—´ã€‚</p>
<h2 id="drfçš„è§†å›¾é›†"><a href="#drfçš„è§†å›¾é›†" class="headerlink" title="drfçš„è§†å›¾é›†"></a>drfçš„è§†å›¾é›†</h2><p>ViewSetç±»åªæ˜¯ä¸€ç§ç±»å‹çš„åŸºäºç±»çš„è§†å›¾ï¼Œå³ä¸æä¾›ä»»ä½•æ–¹æ³•çš„å¤„ç†ç¨‹åºï¼Œä¾‹å¦‚.get()æˆ–.post()ï¼Œè€Œæ˜¯æä¾›æ“ä½œï¼Œå¦‚.list()å’Œ.create()ã€‚<br><a href="http://www.sinodocs.cn/api-guide/viewsets.html" target="_blank" rel="noopener">http://www.sinodocs.cn/api-guide/viewsets.html</a></p>
<h3 id="drfå­—æ®µæ›´æ–°"><a href="#drfå­—æ®µæ›´æ–°" class="headerlink" title="drfå­—æ®µæ›´æ–°"></a>drfå­—æ®µæ›´æ–°</h3><p>é»˜è®¤åªæœ‰listå’Œcreate å¯¹åº”çš„æ–¹æ³•å°±æ˜¯get å’Œpost<br>partial = True å±€éƒ¨æ›´æ–°</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestViewSet</span><span class="hljs-params">(viewsets.ModelViewSet)</span>:</span></span><br><span class="line">    serializer_class = TestSerializer</span><br><span class="line">    queryset = test_Model.objects.all()</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta"> @action(methods=['patch'], detail=False)</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_field</span><span class="hljs-params">(self, request, *args, **kwargs)</span>:</span></span><br><span class="line">        request.data[<span class="hljs-string">"text"</span>] = <span class="hljs-string">"æ›´æ–°dsdsd"</span></span><br><span class="line">        instance = test_Model.objects.get(id=request.data[<span class="hljs-string">'id'</span>])</span><br><span class="line">        <span class="hljs-comment"># instance = self.get_object() ä¼šæŠ¥é”™</span></span><br><span class="line">        <span class="hljs-comment"># https://docs.djangoproject.com/en/2.2/ref/class-based-views/mixins-single-object/#django.views.generic.detail.SingleObjectMixin.get_object</span></span><br><span class="line">        <span class="hljs-comment"># é»˜è®¤ä½¿ç”¨idæŸ¥æ‰¾</span></span><br><span class="line">        serializer = self.get_serializer(instance,data=request.data,partial=<span class="hljs-literal">True</span>)</span><br><span class="line">        serializer.is_valid()</span><br><span class="line">        serializer.save()</span><br><span class="line">        <span class="hljs-keyword">return</span> Response(serializer.data,status=status.HTTP_200_OK)</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">    @action(methods=['delete'],detail=False)</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">delete_field</span><span class="hljs-params">(self,request,*args,**kwargs)</span>:</span></span><br><span class="line">        instance = test_Model.objects.get(id=request.data[<span class="hljs-string">'id'</span>])</span><br><span class="line">        <span class="hljs-keyword">if</span> instance:</span><br><span class="line">            self.perform_destroy(instance)</span><br><span class="line">            <span class="hljs-keyword">return</span> Response({<span class="hljs-string">"flag"</span>:<span class="hljs-string">"åˆ é™¤æˆåŠŸ"</span>},status=status.HTTP_200_OK)</span><br><span class="line">        <span class="hljs-keyword">else</span>:</span><br><span class="line">            <span class="hljs-keyword">return</span>  Response(status=status.HTTP_400_BAD_REQUEST)</span><br></pre></td></tr></tbody></table></figure>

<h3 id="åŸºæœ¬çš„è§†å›¾é›†"><a href="#åŸºæœ¬çš„è§†å›¾é›†" class="headerlink" title="åŸºæœ¬çš„è§†å›¾é›†"></a>åŸºæœ¬çš„è§†å›¾é›†</h3><p>ä½¿ç”¨viewsets.ModelViewSet + DefaultRouter<br>å…¶ä¸­base-nameè¡¨ç¤ºåŸºç¡€url  lookupè¡¨ç¤ºæŸ¥è¯¢å‚æ•°(åªæ ¹æ®ä¸»é”®æŸ¥æ‰¾)<br>è·å–å±€éƒ¨åœ°å€ <a href="http://localhost:8080/{base-name}/{lookup}" target="_blank" rel="noopener">http://localhost:8080/{base-name}/{lookup}</a></p>
<h2 id="drfè·¯ç”±é›†"><a href="#drfè·¯ç”±é›†" class="headerlink" title="drfè·¯ç”±é›†"></a>drfè·¯ç”±é›†</h2><p>ä¸ºäº†æ›´åŠ ä¾¿æ·çš„å¼€å‘é¡¹ç›®,drfè®¾è®¡äº†è·¯ç”±é›†çš„å†…å®¹ï¼Œå…å»äº†è·¯ç”±é…ç½®ä¸­çš„éº»çƒ¦ï¼Œå½“ç„¶ä»–ä¹ŸåŒæ—¶å…¼å®¹djangoçš„è·¯ç”±è®¾è®¡<br><a href="https://www.django-rest-framework.org/api-guide/routers/" target="_blank" rel="noopener">https://www.django-rest-framework.org/api-guide/routers/</a></p>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight python hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-keyword">from</span> rest_framework <span class="hljs-keyword">import</span> routers</span><br><span class="line"></span><br><span class="line">router = DefaultRouter(trailing_slash=<span class="hljs-literal">False</span>) <span class="hljs-comment"># æ˜¯å¦ä»¥æ–œæ /ç»“å°¾</span></span><br><span class="line"><span class="hljs-comment"># å£°æ˜æ³¨å†Œè·¯ç”±</span></span><br><span class="line"><span class="hljs-comment"># åŒpath('switch/',views.per_switch.as_view()),</span></span><br><span class="line">router.register(prefix=<span class="hljs-string">'users'</span>, viewset=UserViewSet,basename=<span class="hljs-string">"another_name"</span>)</span><br><span class="line">router.register(<span class="hljs-string">'accounts'</span>, AccountViewSet)</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æ·»åŠ è§„åˆ™ï¼Œdjangoä¸»åŠ¨æ‰«æurlpatternså˜é‡è·å–è·¯ç”±</span></span><br><span class="line">urlpatterns = router.urls</span><br></pre></td></tr></tbody></table></figure>
<p>ä»¥ä¸Š </p>
<ul>
<li>prefixå®šä¹‰å‰ç¼€</li>
<li>viewsetå®šä¹‰è§†å›¾</li>
<li>basenameå®šä¹‰å‰ç¼€åˆ«å</li>
</ul>
<p>å½¢æˆurlæ ¼å¼(æœ¬åœ°) â€”><br><a href="http://localhost:8080/user/" target="_blank" rel="noopener">http://localhost:8080/user/</a><br><a href="http://localhost:8000/accounts/" target="_blank" rel="noopener">http://localhost:8000/accounts/</a></p>
<h3 id="å…¼å®¹ä½¿ç”¨"><a href="#å…¼å®¹ä½¿ç”¨" class="headerlink" title="å…¼å®¹ä½¿ç”¨"></a>å…¼å®¹ä½¿ç”¨</h3><figure class="highlight python hljs"><table><tbody><tr><td class="code"><pre><span class="line">framework rest_framework.routers <span class="hljs-keyword">import</span> DefaultRouter</span><br><span class="line"></span><br><span class="line">router = DefaultRouter()</span><br><span class="line">router.register(<span class="hljs-string">'test'</span>,viewset=TestViewSet,base_name=<span class="hljs-string">"test"</span>)</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="hljs-string">'switch/'</span>,views.switch_list.as_view()),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># å˜é‡ç´¯åŠ </span></span><br><span class="line">urlpatterns += router.urls</span><br></pre></td></tr></tbody></table></figure>
<h3 id="è·¯ç”±é›†url"><a href="#è·¯ç”±é›†url" class="headerlink" title="è·¯ç”±é›†url"></a>è·¯ç”±é›†url</h3><p>djangoçš„è·¯ç”±é›†æ˜¯çœŸæ»´å˜æ€ï¼Œå½“ä½ ä½¿ç”¨å¸¦å€¼å‚æ•°å»æŸ¥æ‰¾åˆ—è¡¨ä¸­çš„ç‰¹å®šå†…å®¹æ—¶å€™ï¼Œä»–æ‰€è¡¨ç°çš„urlæ˜¯<br>^users/{pk}/set_password/$<br>æ³¨æ„ pkåœ¨ä¸­é—´ set_passwordæ˜¯ä½ æ–¹æ³•çš„åå­—<br>å¦‚æœä½ éœ€è¦ä¿®æ”¹è¿™äº›å†…å®¹ï¼Œå¯ä»¥åœ¨@actionä¸­æŒ‡å®š<br>url_path = set_password<br>url_name = change_password</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SwitchViewSet</span><span class="hljs-params">(viewsets.GenericViewSet,</span></span></span><br><span class="line"><span class="hljs-class"><span class="hljs-params">                    mixins.ListModelMixin)</span>:</span></span><br><span class="line">    serializer_class = SwitchSerializer</span><br><span class="line">    queryset = SwitchModel.objects.all()</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment"># get</span></span><br><span class="line"><span class="hljs-meta">    @action(detail=True,url_path="xx")</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">list_peer</span><span class="hljs-params">(self, request, pk)</span>:</span></span><br><span class="line">        queryset = SwitchModel.objects.get(name=pk)</span><br><span class="line">        print(queryset)</span><br><span class="line">        <span class="hljs-comment"># page = self.paginate_queryset(queryset)</span></span><br><span class="line">        <span class="hljs-comment"># if page is not None:</span></span><br><span class="line">        <span class="hljs-comment">#    serializer = self.get_serializer(page, many=True)</span></span><br><span class="line">        <span class="hljs-comment">#    return self.get_paginated_response(serializer.data)</span></span><br><span class="line"></span><br><span class="line">        serializer = self.get_serializer(queryset)</span><br><span class="line">        <span class="hljs-keyword">return</span> Response(serializer.data)</span><br></pre></td></tr></tbody></table></figure>
<p>å¦‚ä¸Šä¸€ä¸ªåˆ—è¡¨æŸ¥è¯¢çš„åœ°å€æ˜¯  <a href="http://localhost:8080/{pk}/xx" target="_blank" rel="noopener">http://localhost:8080/{pk}/xx</a></p>
<h2 id="drfè¿‡æ»¤"><a href="#drfè¿‡æ»¤" class="headerlink" title="drfè¿‡æ»¤"></a>drfè¿‡æ»¤</h2><h3 id="drfé€šç”¨è¿‡æ»¤"><a href="#drfé€šç”¨è¿‡æ»¤" class="headerlink" title="drfé€šç”¨è¿‡æ»¤"></a>drfé€šç”¨è¿‡æ»¤</h3><figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-comment"># setting.py</span></span><br><span class="line"><span class="hljs-comment"># å…¨å±€è®¾ç½®è¿‡æ»¤å™¨</span></span><br><span class="line">REST_FRAMEWORK = {</span><br><span class="line">    <span class="hljs-string">'DEFAULT_FILTER_BACKENDS'</span>: [<span class="hljs-string">'django_filters.rest_framework.DjangoFilterBackend'</span>]</span><br><span class="line">}</span><br><span class="line"><span class="hljs-comment"># views.py</span></span><br><span class="line"><span class="hljs-comment"># å•è§†å›¾è®¾ç½®è¿‡æ»¤å™¨</span></span><br><span class="line">  filter_backends = [django_filters.rest_framework.DjangoFilterBackend]</span><br></pre></td></tr></tbody></table></figure>
<p><a href="https://www.django-rest-framework.org/api-guide/filtering/" target="_blank" rel="noopener">https://www.django-rest-framework.org/api-guide/filtering/</a></p>
<h2 id="drfåˆ†é¡µ"><a href="#drfåˆ†é¡µ" class="headerlink" title="drfåˆ†é¡µ"></a>drfåˆ†é¡µ</h2><p><a href="https://www.django-rest-framework.org/api-guide/pagination/" target="_blank" rel="noopener">https://www.django-rest-framework.org/api-guide/pagination/</a></p>
<h2 id="drfè¿‡æ»¤å™¨"><a href="#drfè¿‡æ»¤å™¨" class="headerlink" title="drfè¿‡æ»¤å™¨"></a>drfè¿‡æ»¤å™¨</h2><p><a href="https://www.django-rest-framework.org/api-guide/serializers/" target="_blank" rel="noopener">https://www.django-rest-framework.org/api-guide/serializers/</a></p>
<h2 id="drfè§£æå™¨ä¸æ¸²æŸ“å™¨"><a href="#drfè§£æå™¨ä¸æ¸²æŸ“å™¨" class="headerlink" title="drfè§£æå™¨ä¸æ¸²æŸ“å™¨"></a>drfè§£æå™¨ä¸æ¸²æŸ“å™¨</h2><p>è§†å›¾çš„æœ‰æ•ˆè§£æå™¨é›†å§‹ç»ˆå®šä¹‰ä¸ºç±»åˆ—è¡¨ã€‚å½“ request.dataè¢«è®¿é—®æ—¶ï¼ŒRESTæ¡†æ¶å°†æ£€æŸ¥Content-Typeä¼ å…¥è¯·æ±‚ä¸Šçš„æ ‡å¤´ï¼Œå¹¶ç¡®å®šä½¿ç”¨å“ªä¸ªè§£æå™¨æ¥è§£æè¯·æ±‚å†…å®¹ã€‚<br>å¦‚æœæ‚¨æœªè®¾ç½®å†…å®¹ç±»å‹ï¼Œåˆ™å¤§å¤šæ•°å®¢æˆ·ç«¯å°†é»˜è®¤ä½¿ç”¨â€™application/x-www-form-urlencodedâ€™ä¾‹å¦‚ï¼Œå¦‚æœè¦jsonä½¿ç”¨jQueryå’Œ.ajaxï¼ˆï¼‰æ–¹æ³•å‘é€ç¼–ç æ•°æ®ï¼Œåˆ™åº”ç¡®ä¿åŒ…æ‹¬è¯¥contentType: â€˜application/jsonâ€™è®¾ç½®ã€‚</p>
<h3 id="è®¾ç½®è§£æå™¨"><a href="#è®¾ç½®è§£æå™¨" class="headerlink" title="è®¾ç½®è§£æå™¨"></a>è®¾ç½®è§£æå™¨</h3><p>ä»…å…è®¸jsonçš„å†…å®¹</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-comment"># setting.py</span></span><br><span class="line"><span class="hljs-comment"># å…¨å±€è®¾ç½®è§£æ</span></span><br><span class="line">REST_FRAMEWORK = {</span><br><span class="line">    <span class="hljs-string">'DEFAULT_PARSER_CLASSES'</span>: [</span><br><span class="line">        <span class="hljs-string">'rest_framework.parsers.JSONParser'</span>,</span><br><span class="line">    ]</span><br><span class="line">} </span><br><span class="line"><span class="hljs-comment"># å•è§†å›¾è®¾ç½®è§£æ</span></span><br><span class="line">class modelview():</span><br><span class="line">    parser_classes = [JSONParser]</span><br></pre></td></tr></tbody></table></figure>
<p>å…¶ä»–å„ç±»è§£æ<br><a href="https://www.django-rest-framework.org/api-guide/parsers/" target="_blank" rel="noopener">https://www.django-rest-framework.org/api-guide/parsers/</a></p>
<h2 id="æ¸²æŸ“å™¨"><a href="#æ¸²æŸ“å™¨" class="headerlink" title="æ¸²æŸ“å™¨"></a>æ¸²æŸ“å™¨</h2><p>æ—¢ç„¶æœ‰æ”¶çš„è§£æå™¨ï¼Œé‚£ä¹Ÿæœ‰å‘å‡ºæ•°æ®çš„æ¸²æŸ“å™¨ï¼Œ<br>RESTæ¡†æ¶åŒ…æ‹¬è®¸å¤šå†…ç½®çš„Rendererç±»ï¼Œä½¿æ‚¨å¯ä»¥è¿”å›å„ç§åª’ä½“ç±»å‹çš„å“åº”ã€‚è¿˜æ”¯æŒå®šä¹‰è‡ªå·±çš„è‡ªå®šä¹‰æ¸²æŸ“å™¨ï¼Œè¿™ä½¿æ‚¨å¯ä»¥çµæ´»åœ°è®¾è®¡è‡ªå·±çš„åª’ä½“ç±»å‹ã€‚</p>
<h3 id="è®¾ç½®æ¸²æŸ“å™¨"><a href="#è®¾ç½®æ¸²æŸ“å™¨" class="headerlink" title="è®¾ç½®æ¸²æŸ“å™¨"></a>è®¾ç½®æ¸²æŸ“å™¨</h3><figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-comment"># setting.py</span></span><br><span class="line"><span class="hljs-comment"># å…¨å±€è®¾ç½®è§£æ</span></span><br><span class="line">REST_FRAMEWORK = {</span><br><span class="line">    <span class="hljs-string">'DEFAULT_RENDERER_CLASSES'</span>: [</span><br><span class="line">        <span class="hljs-string">'rest_framework.renderers.JSONRenderer'</span>,</span><br><span class="line">        <span class="hljs-string">'rest_framework.renderers.BrowsableAPIRenderer'</span>,</span><br><span class="line">    ]</span><br><span class="line">} </span><br><span class="line"><span class="hljs-comment"># å•è§†å›¾è®¾ç½®è§£æ</span></span><br><span class="line">class modelview()</span><br><span class="line">    renderer_classes = [JSONRenderer]</span><br></pre></td></tr></tbody></table></figure>

<p>å…¶ä»–æ¸²æŸ“å™¨<br><a href="https://www.django-rest-framework.org/api-guide/renderers/" target="_blank" rel="noopener">https://www.django-rest-framework.org/api-guide/renderers/</a></p>
</body></html>
        </div>
        
        
        
        
    </div>
</div>









    <div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/posts/65abc8f/"><i class="fas fa-angle-double-right"></i>djangoå­—æ®µæ€»ç»“</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-12-29T12:41:01.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2019-12-29</time>
                
                
                <div class="level-item">
                <i class="far fa-folder-open has-text-grey"></i>&nbsp;
                <a class="has-link-grey -link" href="/categories/%E7%BC%96%E7%A8%8B/">ç¼–ç¨‹</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    <i class="far fa-clock"></i>&nbsp;
                    
                    
                    5 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 763 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <div class="content">
            <html><head></head><body><h1 id="djangoå­—æ®µçš„è®¾è®¡"><a href="#djangoå­—æ®µçš„è®¾è®¡" class="headerlink" title="djangoå­—æ®µçš„è®¾è®¡"></a>djangoå­—æ®µçš„è®¾è®¡</h1><p><a href="https://docs.djangoproject.com/zh-hans/2.2/ref/models/fields/#module-django.db.models.fields" target="_blank" rel="noopener">https://docs.djangoproject.com/zh-hans/2.2/ref/models/fields/#module-django.db.models.fields</a><br>ormçš„è®¾è®¡æ¨¡å¼<br>åœ¨djangoçš„åº”ç”¨è¿‡ç¨‹ä¸­ï¼Œå¾€å¾€è¦è®¾è®¡modelçš„è®¾è®¡ï¼Œåœ¨modelè®¾è®¡è¿‡ç¨‹ä¸­è¦ä½¿ç”¨å„ç§å„æ ·çš„å…³é”®è¯ï¼Œè¿™äº›å…³é”®è¯ å…³è”åˆ°äº†æ•°æ®åº“ä¸­æ¯æ¡è®°å½•çš„é…ç½®</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-comment"># å¼•ç”¨</span></span><br><span class="line"><span class="hljs-keyword">from</span> django.db <span class="hljs-keyword">import</span> models</span><br></pre></td></tr></tbody></table></figure>


<h2 id="é€šç”¨å­—æ®µ"><a href="#é€šç”¨å­—æ®µ" class="headerlink" title="é€šç”¨å­—æ®µ"></a>é€šç”¨å­—æ®µ</h2><h3 id="nullå­—æ®µ"><a href="#nullå­—æ®µ" class="headerlink" title="nullå­—æ®µ"></a>nullå­—æ®µ</h3><p>å¦‚æœè®¾ç½®ä¸º Trueï¼Œ å½“è¯¥å­—æ®µä¸ºç©ºæ—¶ï¼ŒDjango ä¼šå°†æ•°æ®åº“ä¸­è¯¥å­—æ®µè®¾ç½®ä¸ºNULLï¼Œé»˜è®¤ä¸º Falseã€‚<br>å³æ•°æ®åº“ç½®ç©º å¦‚æœnull=true blank=true åˆ™æ•°æ®åº“å†…å®¹ä¸ºç©ºç™½å­—ç¬¦ä¸²</p>
<h3 id="blank"><a href="#blank" class="headerlink" title="blank"></a>blank</h3><p>Field.blank<br>é»˜è®¤blank = False ,å¦‚æœè®¾ç½®ä¸ºTrueï¼Œåˆ™å…è®¸è¯¥å­—æ®µä¸ºç©ºã€‚<br>ä¸nullä¸åŒçš„æ˜¯,nullå­˜ç²¹ä¸æ•°æ®åº“æœ‰ç›¸å…³ï¼Œè€Œblankä¸éªŒè¯ç›¸å…³ã€‚å¦‚æœblank=true,åˆ™è¡¨å•éªŒè¯å°†å…è®¸è¾“å…¥ç©ºå€¼,å¦‚æœblank=False åˆ™ä¸å…è®¸è¾“å…¥ç©ºå€¼</p>
<hr>
<h3 id="choices"><a href="#choices" class="headerlink" title="choices"></a>choices</h3><figure class="highlight python hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TaskSwitchModel</span><span class="hljs-params">(models.Model)</span>:</span></span><br><span class="line">    ActionType = models.CharField(choices=[</span><br><span class="line">        (<span class="hljs-string">'snmp'</span>,<span class="hljs-string">'_(snmp)'</span>),</span><br><span class="line">        (<span class="hljs-string">"vlan"</span>,<span class="hljs-string">"_vlan"</span>),</span><br><span class="line">        (<span class="hljs-string">"sysname"</span>,<span class="hljs-string">"_sysname"</span>),</span><br><span class="line">        (<span class="hljs-string">"copyright-info"</span>,<span class="hljs-string">"_copyright-info"</span>),</span><br><span class="line">        (<span class="hljs-string">"int-vlan"</span>,<span class="hljs-string">"_int-vlan"</span>),</span><br><span class="line">        (<span class="hljs-string">"int"</span>,<span class="hljs-string">"_int"</span>)],max_length=<span class="hljs-number">100</span>,default=<span class="hljs-string">""</span>)</span><br><span class="line">    test = models.CharField(max_length=<span class="hljs-number">1</span>, choices=[(<span class="hljs-string">'A'</span>, (<span class="hljs-string">'Author'</span>)), (<span class="hljs-string">'E'</span>, (<span class="hljs-string">'Editor'</span>))]),</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python hljs"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TaskSwitchModel</span><span class="hljs-params">(model.ModelForm)</span>:</span></span><br><span class="line">    choices=(</span><br><span class="line">        (<span class="hljs-string">'snmp'</span>,<span class="hljs-string">'_(snmp)'</span>),</span><br><span class="line">        (<span class="hljs-string">"vlan"</span>,<span class="hljs-string">"_vlan"</span>),</span><br><span class="line">        (<span class="hljs-string">"sysname"</span>,<span class="hljs-string">"_sysname"</span>),</span><br><span class="line">        (<span class="hljs-string">"copyright-info"</span>,<span class="hljs-string">"_copyright-info"</span>),</span><br><span class="line">        (<span class="hljs-string">"int-vlan"</span>,<span class="hljs-string">"_int-vlan"</span>),</span><br><span class="line">        (<span class="hljs-string">"int"</span>,<span class="hljs-string">"_int"</span>)</span><br><span class="line">    )</span><br><span class="line">    ActionType = model.CharField(choices=choices,max_length=<span class="hljs-number">100</span>,default=<span class="hljs-string">""</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>Field.choices<br>æ¯ä¸ªå…ƒç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯è¦åœ¨æ¨¡å‹ä¸Šè®¾ç½®çš„å®é™…å€¼ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯äººç±»å¯è¯»çš„åç§°.</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="code"><pre><span class="line">select_choices =[</span><br><span class="line">    (<span class="hljs-string">'A'</span>,<span class="hljs-string">'A_'</span>),</span><br><span class="line">    (<span class="hljs-string">'B'</span>,<span class="hljs-string">'B_'</span>),</span><br><span class="line">    (<span class="hljs-string">'C'</span>,<span class="hljs-string">'C_'</span>),</span><br><span class="line">    (<span class="hljs-string">'D'</span>,<span class="hljs-string">'D_'</span>),</span><br><span class="line">]</span><br><span class="line">choiceså­—æ®µè¿­ä»£</span><br><span class="line">æ¯ä¸ªå…ƒç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯è¦åº”ç”¨äºç»„çš„åç§°ã€‚ç¬¬äºŒä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„<span class="hljs-number">2</span>ä»£å…ƒç»„</span><br><span class="line">select2_select1_choices=[</span><br><span class="line">    (<span class="hljs-string">'A'</span>,(</span><br><span class="line">        (<span class="hljs-string">'A_/'</span>,<span class="hljs-string">'A_movie'</span>),</span><br><span class="line">        (<span class="hljs-string">'A_+'</span>,<span class="hljs-string">'A_video'</span>),</span><br><span class="line">        (<span class="hljs-string">'A_-'</span>,<span class="hljs-string">'A_City'</span>),</span><br><span class="line">        )</span><br><span class="line">    ),</span><br><span class="line">    (<span class="hljs-string">'Video'</span>, (</span><br><span class="line">            (<span class="hljs-string">'vhs'</span>, <span class="hljs-string">'VHS Tape'</span>),</span><br><span class="line">            (<span class="hljs-string">'dvd'</span>, <span class="hljs-string">'DVD'</span>),</span><br><span class="line">        )</span><br><span class="line">    ),</span><br><span class="line">    (<span class="hljs-string">'unknown'</span>, <span class="hljs-string">'Unknown'</span>),</span><br><span class="line">]</span><br></pre></td></tr></tbody></table></figure>

<h3 id="db-column"><a href="#db-column" class="headerlink" title="db_column"></a>db_column</h3><p>è®¾ç½®æ•°æ®åº“åˆ—çš„åç§°    age = models.CharFiled(db_column=â€å¹´é¾„â€)</p>
<h3 id="db-index"><a href="#db-index" class="headerlink" title="db_index"></a>db_index</h3><p>age = models.CharFiled(db_index=true)<br>å¦‚æœè®¾ç½®ä¸ºTrueï¼Œåˆ™åˆ›å»ºæ•°æ®åº“ç´¢å¼•</p>
<h3 id="default"><a href="#default" class="headerlink" title="default"></a>default</h3><p>å¯ä»¥æ˜¯å€¼ä¹Ÿå¯ä»¥æ˜¯å¯è°ƒç”¨çš„å¯¹è±¡ï¼Œæ¯æ¬¡å®ä¾‹åŒ–æ¨¡å‹çš„æ—¶å€™ ä¼šè°ƒç”¨è¿™ä¸ªå¯¹è±¡æˆ–å€¼</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-comment"># 1</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">contact_defult</span><span class="hljs-params">()</span>:</span></span><br><span class="line">    <span class="hljs-keyword">return</span> {<span class="hljs-string">"email"</span>:<span class="hljs-string">"1097690268@qq.com"</span>}</span><br><span class="line"></span><br><span class="line">contact_info = JSONField(<span class="hljs-string">"ContactInfo"</span>, default=contact_default)</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 2</span></span><br><span class="line">member_name = CharFiled(default=<span class="hljs-string">"å°æ˜"</span>)</span><br></pre></td></tr></tbody></table></figure>

<h3 id="editable"><a href="#editable" class="headerlink" title="editable"></a>editable</h3><p>å¯ç¼–è¾‘å­—æ®µ<br>å¦‚æœä¸ºFalseï¼Œåˆ™è¯¥å­—æ®µå°†ä¸ä¼šæ˜¾ç¤ºåœ¨ç®¡ç†å‘˜æˆ–å…¶ä»–ä»»ä½•äººä¸­ ModelFormã€‚åœ¨æ¨¡å‹éªŒè¯æœŸé—´ä¹Ÿå°†è·³è¿‡å®ƒä»¬ã€‚é»˜è®¤å€¼ä¸ºTrueã€‚</p>
<hr>
<h3 id="unique"><a href="#unique" class="headerlink" title="unique"></a>unique</h3><p>name = CharFiled(unique=true)<br>å¦‚ä¸Šåˆ™ä¼šä¿è¯è¯¥å­—æ®µçš„å€¼ä¸ºè¡¨ä¸­å”¯ä¸€ï¼Œä¹Ÿå°±æ˜¯ä¸ä¼šå‡ºç°åŒåçš„äºº<br>å¦‚æœå­˜åœ¨äº†unique åˆ™ä¸å†éœ€è¦db_index å› ä¸ºuniqueé»˜è®¤å­˜åœ¨ç´¢å¼•</p>
<h2 id="primary-key"><a href="#primary-key" class="headerlink" title="primary_key"></a>primary_key</h2><p>å¦‚æœè®¾ç½®ä¸ºTrueï¼Œåˆ™åˆå§‹è®¾ç½®ä¸ºè¯¥æ¨¡å‹çš„ä¸»é”®ã€‚<br>å¦‚æœæ‚¨æœªprimary_key=Trueåœ¨æ¨¡å‹ä¸­æŒ‡å®šä»»ä½•å­—æ®µï¼Œåˆ™Djangoä¼šè‡ªåŠ¨æ·»åŠ ä¸€ä¸ªAutoFieldæ¥ä¿ç•™ä¸»é”®ï¼Œå› æ­¤primary_key=Trueæš—ç¤ºnull=Falseå’Œ unique=Trueã€‚ä¸€ä¸ªå¯¹è±¡åªå…è®¸ä½¿ç”¨ä¸€ä¸ªä¸»é”®ã€‚<br>ä¸»é”®å­—æ®µæ˜¯åªè¯»çš„ã€‚å¦‚æœæ›´æ”¹ç°æœ‰å¯¹è±¡ä¸Šçš„ä¸»é”®çš„å€¼ç„¶åä¿å­˜ï¼Œåˆ™å°†åœ¨æ—§å¯¹è±¡çš„æ—è¾¹åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚</p>
<h2 id="è‡ªå®šä¹‰çš„å­—æ®µ"><a href="#è‡ªå®šä¹‰çš„å­—æ®µ" class="headerlink" title="è‡ªå®šä¹‰çš„å­—æ®µ"></a>è‡ªå®šä¹‰çš„å­—æ®µ</h2><p><a href="https://docs.djangoproject.com/zh-hans/2.2/howto/custom-model-fields/" target="_blank" rel="noopener">https://docs.djangoproject.com/zh-hans/2.2/howto/custom-model-fields/</a></p>
</body></html>
        </div>
        
        
        
        
    </div>
</div>









    <div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/posts/7e91b378/"><i class="fas fa-angle-double-right"></i>djangoå†…å®¹æ€»ç»“</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-12-29T12:40:44.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2019-12-29</time>
                
                
                <div class="level-item">
                <i class="far fa-folder-open has-text-grey"></i>&nbsp;
                <a class="has-link-grey -link" href="/categories/%E7%BC%96%E7%A8%8B/">ç¼–ç¨‹</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    <i class="far fa-clock"></i>&nbsp;
                    
                    
                    13 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 1914 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <div class="content">
            <html><head></head><body><h1 id="djangoå†…å®¹æ€»ç»“"><a href="#djangoå†…å®¹æ€»ç»“" class="headerlink" title="djangoå†…å®¹æ€»ç»“"></a>djangoå†…å®¹æ€»ç»“</h1><h2 id="åœ¨åå°å¯¹æŸäº›å›ºå®šå­—æ®µè®¾ç½®é¢œè‰²"><a href="#åœ¨åå°å¯¹æŸäº›å›ºå®šå­—æ®µè®¾ç½®é¢œè‰²" class="headerlink" title="åœ¨åå°å¯¹æŸäº›å›ºå®šå­—æ®µè®¾ç½®é¢œè‰²"></a>åœ¨åå°å¯¹æŸäº›å›ºå®šå­—æ®µè®¾ç½®é¢œè‰²</h2><figure class="highlight py hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-comment"># models.py</span></span><br><span class="line"><span class="hljs-keyword">from</span> django.urls.html <span class="hljs-keyword">import</span> format_html</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span><span class="hljs-params">(models.Model)</span>:</span></span><br><span class="line">    first_name = models.CharField(max_length=<span class="hljs-number">50</span>)</span><br><span class="line">    last_name = models.CharField(max_length=<span class="hljs-number">50</span>)</span><br><span class="line">    color_code = models.CharField(max_length=<span class="hljs-number">6</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">colored_name</span><span class="hljs-params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> format_html(</span><br><span class="line"></span><br><span class="line">            <span class="hljs-string">'<span style="color: #{};">{} {}</span>'</span>,</span><br><span class="line"></span><br><span class="line">            self.color_code,</span><br><span class="line"></span><br><span class="line">            self.first_name,</span><br><span class="line"></span><br><span class="line">            self.last_name,</span><br><span class="line"></span><br><span class="line">        )</span><br></pre></td></tr></tbody></table></figure>
<h3 id="admin-py"><a href="#admin-py" class="headerlink" title="admin.py"></a>admin.py</h3><p>class PersonAdmin(admin.ModelAdmin):<br>    list_display = (â€˜first_nameâ€™, â€˜last_nameâ€™, â€˜colored_nameâ€™)</p>
<h2 id="DjangoAdmin"><a href="#DjangoAdmin" class="headerlink" title="DjangoAdmin"></a>DjangoAdmin</h2><blockquote>
<p>Djangoè‡ªå¸¦åå°ç®¡ç†æ¨¡æ¿æ˜¯å…¶ä¸€å¤§ç‰¹è‰²ï¼Œä½†ä½œä¸ºåå°ç®¡ç†å¾ˆå¤šåœ°æ–¹éœ€è¦æˆ‘ä»¬å»æ”¹è¿›ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€äº›å…¶ä»–çš„åå°æ¨¡æ¿</p>
</blockquote>
<ul>
<li>æ¨èæ¨¡æ¿1: xadmin xadminåœ¨å‡ å¹´å‰æ˜¯ä¸ºdjangoå®šåˆ¶çš„åå°ç®¡ç†æ¨¡æ¿ï¼Œä½†æ˜¯ä½œè€…å·²ç»åœæ­¢ç»´æŠ¤ï¼Œä½†æ˜¯åœ¨å…¶åˆ†æ”¯ä¸­ä¾æ—§æœ‰éƒ¨åˆ†äººåœ¨ç»´æŠ¤ã€‚<br>  å…·ä½“ä½¿ç”¨è·³è½¬åˆ°æˆ‘çš„æ˜é‡‘<a href="https://juejin.im/post/5afd267d51882542714ff756" target="_blank" rel="noopener">https://juejin.im/post/5afd267d51882542714ff756</a></li>
<li>æ¨èæ¨¡æ¿2ï¼š django simple-ui åœ¨githubä¸Šçš„æ˜Ÿæ•°å¹¶ä¸é«˜ï¼Œä½†æ˜¯æ˜¯åŸºäºé¥¿äº†ä¹ˆelement-uiæ‰€å†™çš„djangoåå°æ¨¡æ¿ï¼Œæˆ‘è¿˜æœªä½¿ç”¨</li>
<li>ä½¿ç”¨æœ¬èº«è‡ªå¸¦çš„adminæ¨¡æ¿</li>
<li>ä½¿ç”¨å…¶ä»–å…¼å®¹å¤šè¯­è¨€çš„åå°æ¨¡æ¿</li>
</ul>
<p>url :<a href="https://my.oschina.net/zhiyonghe/blog/1532030" target="_blank" rel="noopener">https://my.oschina.net/zhiyonghe/blog/1532030</a></p>
<hr>
<h3 id="è‡ªå¸¦çš„Adminæ¨¡æ¿"><a href="#è‡ªå¸¦çš„Adminæ¨¡æ¿" class="headerlink" title="è‡ªå¸¦çš„Adminæ¨¡æ¿"></a>è‡ªå¸¦çš„Adminæ¨¡æ¿</h3><blockquote>
<p>è¿™é‡Œä»‹ç»ä¸€ä¸‹è‡ªå¸¦çš„adminæ¨¡æ¿ã€‚</p>
</blockquote>
<ol>
<li><p>adminç•Œé¢æ±‰åŒ–<br>åœ¨setting.pyæ–‡ä»¶ä¸­è®¾ç½®è¯­è¨€</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-comment"># setting.py</span></span><br><span class="line"></span><br><span class="line">LANGUAGE_CODE = <span class="hljs-string">'zh-hans'</span></span><br><span class="line">IME_ZONE = <span class="hljs-string">'Asia/Shanghai'</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Modelæ³¨å†Œ<br>åœ¨Model.pyä¸­åˆ›å»ºå®Œç±»åï¼Œéœ€è¦åœ¨admin.pyä¸­å®Œæˆæ³¨å†Œï¼Œæ‰èƒ½åœ¨åå°æ¨¡æ¿ä¸­æ˜¾ç¤ºï¼Œæ–¹æ³•æœ‰äºŒ</p>
</li>
</ol>
<figure class="highlight python hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-comment"># admin.py</span></span><br><span class="line"><span class="hljs-comment"># æ–¹æ³•ä¸€</span></span><br><span class="line"><span class="hljs-keyword">from</span> django.contrib <span class="hljs-keyword">import</span> admin </span><br><span class="line"><span class="hljs-keyword">from</span> blog.models <span class="hljs-keyword">import</span> Blog</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BlogAdmin</span><span class="hljs-params">(admin.ModelAdmin)</span>:</span></span><br><span class="line">    list_display=(<span class="hljs-string">'xx'</span>,<span class="hljs-string">'xx'</span>,<span class="hljs-string">'xx'</span>)  <span class="hljs-comment"># è¦æ˜¾ç¤ºçš„å­—æ®µ</span></span><br><span class="line">    list_per_page = <span class="hljs-number">50</span>  <span class="hljs-comment"># æ¯é¡µæœ€å¤šæ˜¾ç¤º50æ¡</span></span><br><span class="line">    ordering = (<span class="hljs-string">"-xxx"</span>)  <span class="hljs-comment"># è®¾ç½®æ’åºï¼Œ-è¡¨ç¤ºé™åºæ’åº</span></span><br><span class="line">    list_editable = [<span class="hljs-string">''</span>,<span class="hljs-string">''</span>,<span class="hljs-string">''</span>] <span class="hljs-comment"># è®¾ç½®å¯ç¼–è¾‘å­—æ®µ</span></span><br><span class="line">    list_display_links = (<span class="hljs-string">''</span>,<span class="hljs-string">''</span>,) <span class="hljs-comment"># é»˜è®¤æƒ…å†µä¸‹åªèƒ½ç‚¹å‡»ç¬¬ä¸€ä¸ªå­—æ®µè¿›å…¥ç¼–è¾‘ï¼Œè®¾ç½®å¤šä¸ªå­—æ®µå¯ç‚¹å‡»è¿›å…¥ç¼–è¾‘</span></span><br><span class="line">    list_filter = (<span class="hljs-string">''</span>,<span class="hljs-string">''</span>,<span class="hljs-string">''</span>) <span class="hljs-comment"># ç­›é€‰å™¨</span></span><br><span class="line">    search_fields  = (<span class="hljs-string">''</span>,<span class="hljs-string">''</span>,<span class="hljs-string">''</span>,) <span class="hljs-comment"># æœç´¢å­—æ®µ</span></span><br><span class="line">    date_hierarchy = <span class="hljs-string">'go_time'</span> <span class="hljs-comment"># è¯¦ç»†æ—¶é—´ç­›é€‰</span></span><br><span class="line"></span><br><span class="line">admin.site.register(Blog,BlogAdmin)</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># æ–¹æ³•äºŒ</span></span><br><span class="line"><span class="hljs-keyword">from</span> djang.contrib <span class="hljs-keyword">import</span> admin</span><br><span class="line"><span class="hljs-keyword">from</span> blog.models <span class="hljs-keyword">import</span> Blog</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">@admin.register(Blog)</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BlogAdmin</span><span class="hljs-params">(admin.ModelAdmin)</span>:</span></span><br><span class="line">    list_display=(<span class="hljs-string">''</span>,<span class="hljs-string">''</span>,<span class="hljs-string">''</span>)</span><br></pre></td></tr></tbody></table></figure>
<hr>
<h2 id="Django-for-ajax"><a href="#Django-for-ajax" class="headerlink" title="Django for ajax"></a>Django for ajax</h2><p>django å‰åå°ä¼ é€’æ¶ˆæ¯å†…å®¹çš„æ–¹æ³•æœ‰å¾ˆå¤šç§,è¿™é‡Œæˆ‘ä»¬æ¥è®²ä¸€ä¸‹ajax for django</p>
<figure class="highlight hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-comment"># è·¯ç”±åœ°å€</span></span><br><span class="line"><span class="hljs-comment"># é¡¹ç›®è·¯å¾„ä¸‹</span></span><br><span class="line">path(<span class="hljs-string">''</span>,include(<span class="hljs-string">'GraphPro.urls'</span>))</span><br><span class="line"><span class="hljs-comment"># åº”ç”¨è·¯å¾„ä¸‹</span></span><br><span class="line">path(<span class="hljs-string">'echartsdemo/'</span>,demoView.as_view(),name=<span class="hljs-string">"demo"</span>),</span><br><span class="line"><span class="hljs-comment"># è§†å›¾å±‚</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span>  <span class="hljs-title">demoView</span><span class="hljs-params">(View)</span>:</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get</span><span class="hljs-params">(self,request)</span>:</span></span><br><span class="line">        <span class="hljs-keyword">if</span> request.GET.get(<span class="hljs-string">'name'</span>) == <span class="hljs-string">'hzj'</span>:</span><br><span class="line">            <span class="hljs-keyword">return</span> HttpResponse(<span class="hljs-string">"ssdsdsd"</span>)</span><br><span class="line">        <span class="hljs-keyword">else</span>:</span><br><span class="line">            print(<span class="hljs-number">2</span>)</span><br><span class="line">        <span class="hljs-keyword">return</span> render(request,<span class="hljs-string">'demo.html'</span>)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">post</span><span class="hljs-params">(self,request)</span>:</span></span><br><span class="line">        <span class="hljs-keyword">pass</span></span><br><span class="line"><span class="hljs-comment"># æ¨¡æ¿å±‚</span></span><br><span class="line"><body></span><br><span class="line">    <!-- ä¸ºEChartså‡†å¤‡ä¸€ä¸ªå…·å¤‡å¤§å°ï¼ˆå®½é«˜ï¼‰çš„Dom --></span><br><span class="line">    <div id="main" style="width: 1000px;height:1000px;" ></div></span><br><span class="line"></span><br><span class="line">    <input type=<span class="hljs-string">"text"</span> id=<span class="hljs-string">"name"</span> value=<span class="hljs-string">"hzj"</span>></span><br><span class="line">    <span id="result"></span></span><br><span class="line">    <button class="button" id="click_func">ç‚¹å‡»</button></span><br><span class="line">    {{ data }}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <script type=<span class="hljs-string">"text/javascript"</span>></span><br><span class="line"></span><br><span class="line">         $(document).ready(function () {</span><br><span class="line">            var name = $(<span class="hljs-string">'#name'</span>).val();</span><br><span class="line">            var data = {<span class="hljs-string">"name"</span>:name};</span><br><span class="line">            $(<span class="hljs-string">"#click_func"</span>).click(function () {</span><br><span class="line">                $.get(</span><br><span class="line">                    //è¯·æ±‚çš„url</span><br><span class="line">                    <span class="hljs-string">'{% url '</span>demoecharts<span class="hljs-string">' %}'</span>,</span><br><span class="line">                    data,</span><br><span class="line">                    function (ret) {</span><br><span class="line">                        console.log(ret)</span><br><span class="line">                    }</span><br><span class="line">                )</span><br><span class="line">            })</span><br><span class="line">        })</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    </script></span><br><span class="line"></body></span><br></pre></td></tr></tbody></table></figure>


<p>è¿›å…¥é¡µé¢ç›´æ¥è¯·æ±‚åå°æ•°æ®</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-tag"><<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-javascript">     $(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span></span><br><span class="line"><span class="hljs-actionscript">         <span class="hljs-keyword">var</span> data = {<span class="hljs-string">"name"</span>:<span class="hljs-string">"hzj"</span>};</span></span><br><span class="line"><span class="hljs-javascript">         $.<span class="hljs-keyword">get</span>(</span></span><br><span class="line"><span class="hljs-actionscript">            <span class="hljs-comment">//è¯·æ±‚çš„url</span></span></span><br><span class="line"><span class="hljs-actionscript">            <span class="hljs-string">'{% url '</span>demo<span class="hljs-string">' %}'</span>,</span></span><br><span class="line">            data,</span><br><span class="line"><span class="hljs-actionscript">            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(ret)</span> </span>{</span></span><br><span class="line"><span class="hljs-javascript">                <span class="hljs-built_in">console</span>.log(ret)</span></span><br><span class="line">            }</span><br><span class="line">         )</span><br><span class="line">    })</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-tag"></<span class="hljs-name">script</span>></span></span><br></pre></td></tr></tbody></table></figure>

<p>å¼‚æ­¥åŠ è½½æ•°æ®</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-tag"><<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-javascript">        $(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span></span><br><span class="line"><span class="hljs-actionscript">            <span class="hljs-keyword">var</span> data = {<span class="hljs-string">"name"</span>:<span class="hljs-string">"hzj"</span>};</span></span><br><span class="line"><span class="hljs-javascript">            $.<span class="hljs-keyword">get</span>(</span></span><br><span class="line"><span class="hljs-actionscript">               <span class="hljs-comment">//è¯·æ±‚çš„url</span></span></span><br><span class="line"><span class="hljs-actionscript">               <span class="hljs-string">'{% url '</span>demo<span class="hljs-string">' %}'</span>,</span></span><br><span class="line">               data,</span><br><span class="line"><span class="hljs-actionscript">            ).done(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ret)</span></span>{</span></span><br><span class="line"><span class="hljs-javascript">                <span class="hljs-built_in">console</span>.log(ret)</span></span><br><span class="line">            })</span><br><span class="line">       })</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="hljs-tag"></<span class="hljs-name">script</span>></span></span><br></pre></td></tr></tbody></table></figure>
<hr>
<blockquote>
<p>ä»‹ç»Mysqlåœ¨Djangoä¸­çš„å¼•ç”¨<br>ç”±äºDjangoåœ¨åˆå§‹åŒ–é¡¹ç›®åï¼Œæ‰€ä½¿ç”¨çš„æ•°æ®åº“æ˜¯sqlite3,ä½†ä¸ºäº†æ‰©å±•ï¼Œæˆ‘ä»¬è¿™é‡Œè®¡åˆ’ä½¿ç”¨Mysql,é…ç½®æ­¥éª¤å¦‚ä¸‹</p>
</blockquote>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><figure class="highlight python hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-number">1.</span>åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…Mysqlæ•°æ®åº“(Centosç‰ˆ)</span><br><span class="line"></span><br><span class="line"><span class="hljs-number">2.</span>åœ¨djangoçš„setting.pyä¸­å¼•ç”¨</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h2 id="é”™è¯¯ç±»å‹æ€»ç»“"><a href="#é”™è¯¯ç±»å‹æ€»ç»“" class="headerlink" title="é”™è¯¯ç±»å‹æ€»ç»“"></a>é”™è¯¯ç±»å‹æ€»ç»“</h2><p>ç”±äºmysqlä¸djangoåœ¨é…ç½®è¿‡ç¨‹ä¸­ä¼šå­˜åœ¨å¾ˆå¤šçš„é”™è¯¯ï¼Œè¿™é‡Œæ€»ç»“ä¸€ä¸‹</p>
<h4 id="Mysqlåœ¨Centosä¸­æƒé™ä¸è¶³çš„é”™è¯¯"><a href="#Mysqlåœ¨Centosä¸­æƒé™ä¸è¶³çš„é”™è¯¯" class="headerlink" title="Mysqlåœ¨Centosä¸­æƒé™ä¸è¶³çš„é”™è¯¯"></a>Mysqlåœ¨Centosä¸­æƒé™ä¸è¶³çš„é”™è¯¯</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)</span><br></pre></td></tr></tbody></table></figure>
<p>åŸå› æ˜¯/var/lib/mysqlçš„è®¿é—®æƒé™ä¸è¶³</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">1.æ”¹å˜æƒé™ chown -R mysql:mysql /var/lib/mysql   </span><br><span class="line">2. å¯åŠ¨æœåŠ¡å™¨ /etc/init.d/mysql start (ä¼šè‡ªåŠ¨ç”Ÿæˆmysql.sockæ–‡ä»¶)  </span><br><span class="line">3.é‡æ–°å¯åŠ¨mysqlæœåŠ¡  /etc/init.d/mysql start</span><br></pre></td></tr></tbody></table></figure>
<h4 id="å¯†ç ç±»å‹é”™è¯¯"><a href="#å¯†ç ç±»å‹é”™è¯¯" class="headerlink" title="å¯†ç ç±»å‹é”™è¯¯"></a>å¯†ç ç±»å‹é”™è¯¯</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">1045, "Access denied for user 'root'@'122.224.83.xxx</span><br></pre></td></tr></tbody></table></figure>
<p>åŸå›  å¯†ç é”™è¯¯ï¼Œæ³¨æ„å¯†ç ä¸èƒ½æ˜¯å­—ç¬¦ä¸²</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">GRANT ALL PRIVILEGES ON *.* TO root@'%' IDENTIFIED BY '123456' WITH GRANT OPTION;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="django-setting-ä¸­çš„é…ç½®"><a href="#django-setting-ä¸­çš„é…ç½®" class="headerlink" title="django setting ä¸­çš„é…ç½®"></a>django setting ä¸­çš„é…ç½®</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">DATABASES = {</span><br><span class="line">    'default': {</span><br><span class="line"></span><br><span class="line">        'ENGINE': 'django.db.backends.mysql',</span><br><span class="line">        'NAME': 'itemids',  # æ•°æ®åº“åå­—</span><br><span class="line">        'USER': 'root',    # æ•°æ®åº“ç™»å½•å</span><br><span class="line">        'PASSWORD': '12345x', # æ•°æ®åº“å¯†ç </span><br><span class="line">        'HOST': '106.14.195.xxx', æ•°æ®åº“IP</span><br><span class="line">        'POST': 3306, # ç«¯å£</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h4 id="å¼•ç”¨pymysql"><a href="#å¼•ç”¨pymysql" class="headerlink" title="å¼•ç”¨pymysql"></a>å¼•ç”¨pymysql</h4><p>ç”±äºMySQLdbåªèƒ½ä½¿ç”¨åœ¨Python2ä¸­ï¼Œåœ¨python3ä¸­å·²ç»åœæ­¢äº†ç»´æŠ¤ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å¼•ç”¨pymyqlçš„åº“</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="code"><pre><span class="line">pipenv install pymysql</span><br><span class="line"><span class="hljs-comment"># åœ¨ä¸setting.pyåŒçº§åˆ«çš„__init__.pyä¸­ä½¿ç”¨</span></span><br><span class="line"><span class="hljs-keyword">import</span> pymysql</span><br><span class="line">pymysql.install_as_MySQLdb()</span><br></pre></td></tr></tbody></table></figure>
<h4 id="pymysqlç‰ˆæœ¬ä¸ç¬¦åˆ"><a href="#pymysqlç‰ˆæœ¬ä¸ç¬¦åˆ" class="headerlink" title="pymysqlç‰ˆæœ¬ä¸ç¬¦åˆ"></a>pymysqlç‰ˆæœ¬ä¸ç¬¦åˆ</h4><p>æŠ¥é”™å†…å®¹:django.core.exceptions.ImproperlyConfigured: mysqlclient 1.3.3 or newer is required; you have 0.7.11<br>ä¿®æ”¹Pipenv\Lib\site-packages\django\db\backends\mysql\base.py<br>æ³¨é‡Šä¸‹é¢å†…å®¹<br>if version < (1, 3, 3):<br>    raise ImproperlyConfigured(â€œmysqlclient 1.3.3 or newer is required; you have %sâ€ % Database.<strong>version</strong>)</p>
<p>(åœ¨Centosä¸­ï¼Œpipenv install æ‰€ç”Ÿæˆçš„åŒ… ä¼šåœ¨pipenv shell æ¿€æ´»ç¯å¢ƒçš„æ—¶å€™å‡ºç°)</p>
<p>ç”±äºä¸Šé¢æ³¨é‡Šï¼Œè¿˜ä¼šå‡ºç°çš„æŠ¥é”™å†…å®¹ä¸º<br>File â€œC:\Users\Administrator\PycharmProjects\untitled1\venv\lib\site-packages\django\db\backends\mysql\operations.pyâ€, line 146, in last_executed_query<br>å°†operations.pyä¸­çš„decodeæ”¹æˆencode</p>
<h4 id="mysqlä¸èƒ½æ’å…¥ä¸­æ–‡"><a href="#mysqlä¸èƒ½æ’å…¥ä¸­æ–‡" class="headerlink" title="mysqlä¸èƒ½æ’å…¥ä¸­æ–‡"></a>mysqlä¸èƒ½æ’å…¥ä¸­æ–‡</h4><p>æŠ¥é”™å†…å®¹ï¼š django.db.utils.InternalError: (1366, â€œIncorrect string value: â€˜\xE5\xAE\x9A\xE6\x97\xB6â€¦â€™ for column â€˜nameâ€™ at row 1â€)<br>è§£å†³æ–¹æ³•: <a href="https://blog.csdn.net/tzh476/article/details/52644271" target="_blank" rel="noopener">https://blog.csdn.net/tzh476/article/details/52644271</a><br>åˆ é™¤ä¹‹å‰çš„åº“ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“ï¼Œä½¿ç”¨utf8mb64   ä¹‹å‰é»˜è®¤åˆ›å»ºçš„éƒ½æ˜¯latin1</p>
<h4 id="mysql-é•¿åº¦çš„é—®é¢˜"><a href="#mysql-é•¿åº¦çš„é—®é¢˜" class="headerlink" title="mysql é•¿åº¦çš„é—®é¢˜"></a>mysql é•¿åº¦çš„é—®é¢˜</h4><p>django.db.utils.InternalError: (1071, â€˜Specified key was too long; max key length is 767 bytesâ€™)<br><a href="https://blog.csdn.net/ljfphp/article/details/80406907" target="_blank" rel="noopener">https://blog.csdn.net/ljfphp/article/details/80406907</a><br><a href="https://www.orcode.com/question/407126_k280b8.html" target="_blank" rel="noopener">https://www.orcode.com/question/407126_k280b8.html</a></p>
<p>è§£å†³æ–¹æ³•1: å‡çº§Mysql5.6â€“>>Mysql5.7<br>centos7 ä¸‹  å¯¹mysqlçš„æ“ä½œ <a href="https://blog.csdn.net/xufengzhu/article/details/81110982" target="_blank" rel="noopener">https://blog.csdn.net/xufengzhu/article/details/81110982</a><br><a href="https://blog.51cto.com/lisea/1941616" target="_blank" rel="noopener">https://blog.51cto.com/lisea/1941616</a></p>
<p>è§£å†³æ–¹æ³•2 : å…ˆä½¿ç”¨utf8æ ¼å¼</p>
<p>â€”-> ä»‹ç»Mysqlåœ¨Djangoä¸­çš„å¼•ç”¨<br>ç”±äºDjangoåœ¨åˆå§‹åŒ–é¡¹ç›®åï¼Œæ‰€ä½¿ç”¨çš„æ•°æ®åº“æ˜¯sqlite3,ä½†ä¸ºäº†æ‰©å±•ï¼Œæˆ‘ä»¬è¿™é‡Œè®¡åˆ’ä½¿ç”¨Mysql,é…ç½®æ­¥éª¤å¦‚ä¸‹</p>
<h2 id="é…ç½®-1"><a href="#é…ç½®-1" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><figure class="highlight python hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-number">1.</span>åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…Mysqlæ•°æ®åº“(Centosç‰ˆ)</span><br><span class="line"></span><br><span class="line"><span class="hljs-number">2.</span>åœ¨djangoçš„setting.pyä¸­å¼•ç”¨</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h2 id="é”™è¯¯ç±»å‹æ€»ç»“-1"><a href="#é”™è¯¯ç±»å‹æ€»ç»“-1" class="headerlink" title="é”™è¯¯ç±»å‹æ€»ç»“"></a>é”™è¯¯ç±»å‹æ€»ç»“</h2><p>ç”±äºmysqlä¸djangoåœ¨é…ç½®è¿‡ç¨‹ä¸­ä¼šå­˜åœ¨å¾ˆå¤šçš„é”™è¯¯ï¼Œè¿™é‡Œæ€»ç»“ä¸€ä¸‹</p>
<h4 id="Mysqlåœ¨Centosä¸­æƒé™ä¸è¶³çš„é”™è¯¯-1"><a href="#Mysqlåœ¨Centosä¸­æƒé™ä¸è¶³çš„é”™è¯¯-1" class="headerlink" title="Mysqlåœ¨Centosä¸­æƒé™ä¸è¶³çš„é”™è¯¯"></a>Mysqlåœ¨Centosä¸­æƒé™ä¸è¶³çš„é”™è¯¯</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)</span><br></pre></td></tr></tbody></table></figure>
<p>åŸå› æ˜¯/var/lib/mysqlçš„è®¿é—®æƒé™ä¸è¶³</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">1.æ”¹å˜æƒé™ chown -R mysql:mysql /var/lib/mysql   </span><br><span class="line">2. å¯åŠ¨æœåŠ¡å™¨ /etc/init.d/mysql start (ä¼šè‡ªåŠ¨ç”Ÿæˆmysql.sockæ–‡ä»¶)  </span><br><span class="line">3.é‡æ–°å¯åŠ¨mysqlæœåŠ¡  /etc/init.d/mysql start</span><br></pre></td></tr></tbody></table></figure>
<h4 id="å¯†ç ç±»å‹é”™è¯¯-1"><a href="#å¯†ç ç±»å‹é”™è¯¯-1" class="headerlink" title="å¯†ç ç±»å‹é”™è¯¯"></a>å¯†ç ç±»å‹é”™è¯¯</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">1045, "Access denied for user 'root'@'122.224.83.xxx</span><br></pre></td></tr></tbody></table></figure>
<p>åŸå›  å¯†ç é”™è¯¯ï¼Œæ³¨æ„å¯†ç ä¸èƒ½æ˜¯å­—ç¬¦ä¸²</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">GRANT ALL PRIVILEGES ON *.* TO root@'%' IDENTIFIED BY '123456' WITH GRANT OPTION;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="django-setting-ä¸­çš„é…ç½®-1"><a href="#django-setting-ä¸­çš„é…ç½®-1" class="headerlink" title="django setting ä¸­çš„é…ç½®"></a>django setting ä¸­çš„é…ç½®</h4><figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">DATABASES = {</span><br><span class="line">    'default': {</span><br><span class="line"></span><br><span class="line">        'ENGINE': 'django.db.backends.mysql',</span><br><span class="line">        'NAME': 'itemids',  # æ•°æ®åº“åå­—</span><br><span class="line">        'USER': 'root',    # æ•°æ®åº“ç™»å½•å</span><br><span class="line">        'PASSWORD': '12345x', # æ•°æ®åº“å¯†ç </span><br><span class="line">        'HOST': '106.14.195.xxx', æ•°æ®åº“IP</span><br><span class="line">        'POST': 3306, # ç«¯å£</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h4 id="å¼•ç”¨pymysql-1"><a href="#å¼•ç”¨pymysql-1" class="headerlink" title="å¼•ç”¨pymysql"></a>å¼•ç”¨pymysql</h4><p>ç”±äºMySQLdbåªèƒ½ä½¿ç”¨åœ¨Python2ä¸­ï¼Œåœ¨python3ä¸­å·²ç»åœæ­¢äº†ç»´æŠ¤ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å¼•ç”¨pymyqlçš„åº“</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="code"><pre><span class="line">pipenv install pymysql</span><br><span class="line"><span class="hljs-comment"># åœ¨ä¸setting.pyåŒçº§åˆ«çš„__init__.pyä¸­ä½¿ç”¨</span></span><br><span class="line"><span class="hljs-keyword">import</span> pymysql</span><br><span class="line">pymysql.install_as_MySQLdb()</span><br></pre></td></tr></tbody></table></figure>
<h4 id="pymysqlç‰ˆæœ¬ä¸ç¬¦åˆ-1"><a href="#pymysqlç‰ˆæœ¬ä¸ç¬¦åˆ-1" class="headerlink" title="pymysqlç‰ˆæœ¬ä¸ç¬¦åˆ"></a>pymysqlç‰ˆæœ¬ä¸ç¬¦åˆ</h4><p>æŠ¥é”™å†…å®¹:django.core.exceptions.ImproperlyConfigured: mysqlclient 1.3.3 or newer is required; you have 0.7.11<br>ä¿®æ”¹Pipenv\Lib\site-packages\django\db\backends\mysql\base.py<br>æ³¨é‡Šä¸‹é¢å†…å®¹<br>if version < (1, 3, 3):<br>    raise ImproperlyConfigured(â€œmysqlclient 1.3.3 or newer is required; you have %sâ€ % Database.<strong>version</strong>)</p>
<p>(åœ¨Centosä¸­ï¼Œpipenv install æ‰€ç”Ÿæˆçš„åŒ… ä¼šåœ¨pipenv shell æ¿€æ´»ç¯å¢ƒçš„æ—¶å€™å‡ºç°)</p>
<p>ç”±äºä¸Šé¢æ³¨é‡Šï¼Œè¿˜ä¼šå‡ºç°çš„æŠ¥é”™å†…å®¹ä¸º<br>File â€œC:\Users\Administrator\PycharmProjects\untitled1\venv\lib\site-packages\django\db\backends\mysql\operations.pyâ€, line 146, in last_executed_query<br>å°†operations.pyä¸­çš„decodeæ”¹æˆencode</p>
<h4 id="mysqlä¸èƒ½æ’å…¥ä¸­æ–‡-1"><a href="#mysqlä¸èƒ½æ’å…¥ä¸­æ–‡-1" class="headerlink" title="mysqlä¸èƒ½æ’å…¥ä¸­æ–‡"></a>mysqlä¸èƒ½æ’å…¥ä¸­æ–‡</h4><p>æŠ¥é”™å†…å®¹ï¼š django.db.utils.InternalError: (1366, â€œIncorrect string value: â€˜\xE5\xAE\x9A\xE6\x97\xB6â€¦â€™ for column â€˜nameâ€™ at row 1â€)<br>è§£å†³æ–¹æ³•: <a href="https://blog.csdn.net/tzh476/article/details/52644271" target="_blank" rel="noopener">https://blog.csdn.net/tzh476/article/details/52644271</a><br>åˆ é™¤ä¹‹å‰çš„åº“ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“ï¼Œä½¿ç”¨utf8mb64   ä¹‹å‰é»˜è®¤åˆ›å»ºçš„éƒ½æ˜¯latin1</p>
<h4 id="mysql-é•¿åº¦çš„é—®é¢˜-1"><a href="#mysql-é•¿åº¦çš„é—®é¢˜-1" class="headerlink" title="mysql é•¿åº¦çš„é—®é¢˜"></a>mysql é•¿åº¦çš„é—®é¢˜</h4><p>django.db.utils.InternalError: (1071, â€˜Specified key was too long; max key length is 767 bytesâ€™)<br><a href="https://blog.csdn.net/ljfphp/article/details/80406907" target="_blank" rel="noopener">https://blog.csdn.net/ljfphp/article/details/80406907</a><br><a href="https://www.orcode.com/question/407126_k280b8.html" target="_blank" rel="noopener">https://www.orcode.com/question/407126_k280b8.html</a></p>
<p>è§£å†³æ–¹æ³•1: å‡çº§Mysql5.6â€“>>Mysql5.7<br>centos7 ä¸‹  å¯¹mysqlçš„æ“ä½œ <a href="https://blog.csdn.net/xufengzhu/article/details/81110982" target="_blank" rel="noopener">https://blog.csdn.net/xufengzhu/article/details/81110982</a><br><a href="https://blog.51cto.com/lisea/1941616" target="_blank" rel="noopener">https://blog.51cto.com/lisea/1941616</a></p>
<p>è§£å†³æ–¹æ³•2 : å…ˆä½¿ç”¨utf8æ ¼å¼</p>
</body></html>
        </div>
        
        
        
        
    </div>
</div>









    <div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/posts/7f55f388/"><i class="fas fa-angle-double-right"></i>djangoé”™è¯¯åˆé›†</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-12-29T12:40:29.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2019-12-29</time>
                
                
                <div class="level-item">
                <i class="far fa-folder-open has-text-grey"></i>&nbsp;
                <a class="has-link-grey -link" href="/categories/%E7%BC%96%E7%A8%8B/">ç¼–ç¨‹</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    <i class="far fa-clock"></i>&nbsp;
                    
                    
                    4 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 648 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <div class="content">
            <html><head></head><body><h1 id="é”™è¯¯ç±»å‹æ€»ç»“"><a href="#é”™è¯¯ç±»å‹æ€»ç»“" class="headerlink" title="é”™è¯¯ç±»å‹æ€»ç»“"></a>é”™è¯¯ç±»å‹æ€»ç»“</h1><p>ç”±äºmysqlä¸djangoåœ¨é…ç½®è¿‡ç¨‹ä¸­ä¼šå­˜åœ¨å¾ˆå¤šçš„é”™è¯¯ï¼Œè¿™é‡Œæ€»ç»“ä¸€ä¸‹</p>
<h2 id="Mysqlåœ¨Centosä¸­æƒé™ä¸è¶³çš„é”™è¯¯"><a href="#Mysqlåœ¨Centosä¸­æƒé™ä¸è¶³çš„é”™è¯¯" class="headerlink" title="Mysqlåœ¨Centosä¸­æƒé™ä¸è¶³çš„é”™è¯¯"></a>Mysqlåœ¨Centosä¸­æƒé™ä¸è¶³çš„é”™è¯¯</h2><figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)</span><br></pre></td></tr></tbody></table></figure>
<p>åŸå› æ˜¯/var/lib/mysqlçš„è®¿é—®æƒé™ä¸è¶³</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">1.æ”¹å˜æƒé™ chown -R mysql:mysql /var/lib/mysql   </span><br><span class="line">2. å¯åŠ¨æœåŠ¡å™¨ /etc/init.d/mysql start (ä¼šè‡ªåŠ¨ç”Ÿæˆmysql.sockæ–‡ä»¶)  </span><br><span class="line">3.é‡æ–°å¯åŠ¨mysqlæœåŠ¡  /etc/init.d/mysql start</span><br></pre></td></tr></tbody></table></figure>
<h2 id="å¯†ç ç±»å‹é”™è¯¯"><a href="#å¯†ç ç±»å‹é”™è¯¯" class="headerlink" title="å¯†ç ç±»å‹é”™è¯¯"></a>å¯†ç ç±»å‹é”™è¯¯</h2><figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">1045, "Access denied for user 'root'@'122.224.83.xxx</span><br></pre></td></tr></tbody></table></figure>
<p>åŸå›  å¯†ç é”™è¯¯ï¼Œæ³¨æ„å¯†ç ä¸èƒ½æ˜¯å­—ç¬¦ä¸²</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">GRANT ALL PRIVILEGES ON *.* TO root@'%' IDENTIFIED BY '123456' WITH GRANT OPTION;</span><br></pre></td></tr></tbody></table></figure>
<h2 id="django-setting-ä¸­çš„é…ç½®"><a href="#django-setting-ä¸­çš„é…ç½®" class="headerlink" title="django setting ä¸­çš„é…ç½®"></a>django setting ä¸­çš„é…ç½®</h2><figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">DATABASES = {</span><br><span class="line">    'default': {</span><br><span class="line"></span><br><span class="line">        'ENGINE': 'django.db.backends.mysql',</span><br><span class="line">        'NAME': 'itemids',  # æ•°æ®åº“åå­—</span><br><span class="line">        'USER': 'root',    # æ•°æ®åº“ç™»å½•å</span><br><span class="line">        'PASSWORD': '12345x', # æ•°æ®åº“å¯†ç </span><br><span class="line">        'HOST': '106.14.195.xxx', æ•°æ®åº“IP</span><br><span class="line">        'POST': 3306, # ç«¯å£</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="å¼•ç”¨pymysql"><a href="#å¼•ç”¨pymysql" class="headerlink" title="å¼•ç”¨pymysql"></a>å¼•ç”¨pymysql</h2><p>ç”±äºMySQLdbåªèƒ½ä½¿ç”¨åœ¨Python2ä¸­ï¼Œåœ¨python3ä¸­å·²ç»åœæ­¢äº†ç»´æŠ¤ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å¼•ç”¨pymyqlçš„åº“</p>
<figure class="highlight python hljs"><table><tbody><tr><td class="code"><pre><span class="line">pipenv install pymysql</span><br><span class="line"><span class="hljs-comment"># åœ¨ä¸setting.pyåŒçº§åˆ«çš„__init__.pyä¸­ä½¿ç”¨</span></span><br><span class="line"><span class="hljs-keyword">import</span> pymysql</span><br><span class="line">pymysql.install_as_MySQLdb()</span><br></pre></td></tr></tbody></table></figure>
<h2 id="pymysqlç‰ˆæœ¬ä¸ç¬¦åˆ"><a href="#pymysqlç‰ˆæœ¬ä¸ç¬¦åˆ" class="headerlink" title="pymysqlç‰ˆæœ¬ä¸ç¬¦åˆ"></a>pymysqlç‰ˆæœ¬ä¸ç¬¦åˆ</h2><p>æŠ¥é”™å†…å®¹:django.core.exceptions.ImproperlyConfigured: mysqlclient 1.3.3 or newer is required; you have 0.7.11<br>ä¿®æ”¹Pipenv\Lib\site-packages\django\db\backends\mysql\base.py<br>æ³¨é‡Šä¸‹é¢å†…å®¹<br>if version < (1, 3, 3):<br>    raise ImproperlyConfigured(â€œmysqlclient 1.3.3 or newer is required; you have %sâ€ % Database.<strong>version</strong>)</p>
<p>(åœ¨Centosä¸­ï¼Œpipenv install æ‰€ç”Ÿæˆçš„åŒ… ä¼šåœ¨pipenv shell æ¿€æ´»ç¯å¢ƒçš„æ—¶å€™å‡ºç°)</p>
<p>ç”±äºä¸Šé¢æ³¨é‡Šï¼Œè¿˜ä¼šå‡ºç°çš„æŠ¥é”™å†…å®¹ä¸º<br>File â€œC:\Users\Administrator\PycharmProjects\untitled1\venv\lib\site-packages\django\db\backends\mysql\operations.pyâ€, line 146, in last_executed_query<br>å°†operations.pyä¸­çš„decodeæ”¹æˆencode</p>
<h2 id="mysqlä¸èƒ½æ’å…¥ä¸­æ–‡"><a href="#mysqlä¸èƒ½æ’å…¥ä¸­æ–‡" class="headerlink" title="mysqlä¸èƒ½æ’å…¥ä¸­æ–‡"></a>mysqlä¸èƒ½æ’å…¥ä¸­æ–‡</h2><p>æŠ¥é”™å†…å®¹ï¼š django.db.utils.InternalError: (1366, â€œIncorrect string value: â€˜\xE5\xAE\x9A\xE6\x97\xB6â€¦â€™ for column â€˜nameâ€™ at row 1â€)<br>è§£å†³æ–¹æ³•: <a href="https://blog.csdn.net/tzh476/article/details/52644271" target="_blank" rel="noopener">https://blog.csdn.net/tzh476/article/details/52644271</a><br>åˆ é™¤ä¹‹å‰çš„åº“ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“ï¼Œä½¿ç”¨utf8mb64   ä¹‹å‰é»˜è®¤åˆ›å»ºçš„éƒ½æ˜¯latin1<br>ä¸ä¸€æ ·è¦åˆ é™¤ä¹‹å‰çš„åº“ï¼Œä¿®æ”¹æ•°æ®åº“çš„å±æ€§å³å¯</p>
<h2 id="mysql-é•¿åº¦çš„é—®é¢˜"><a href="#mysql-é•¿åº¦çš„é—®é¢˜" class="headerlink" title="mysql é•¿åº¦çš„é—®é¢˜"></a>mysql é•¿åº¦çš„é—®é¢˜</h2><p>django.db.utils.InternalError: (1071, â€˜Specified key was too long; max key length is 767 bytesâ€™)<br><a href="https://blog.csdn.net/ljfphp/article/details/80406907" target="_blank" rel="noopener">https://blog.csdn.net/ljfphp/article/details/80406907</a><br><a href="https://www.orcode.com/question/407126_k280b8.html" target="_blank" rel="noopener">https://www.orcode.com/question/407126_k280b8.html</a></p>
<p>è§£å†³æ–¹æ³•1: å‡çº§Mysql5.6â€“>>Mysql5.7<br>centos7 ä¸‹  å¯¹mysqlçš„æ“ä½œ <a href="https://blog.csdn.net/xufengzhu/article/details/81110982" target="_blank" rel="noopener">https://blog.csdn.net/xufengzhu/article/details/81110982</a><br><a href="https://blog.51cto.com/lisea/1941616" target="_blank" rel="noopener">https://blog.51cto.com/lisea/1941616</a></p>
<p>è§£å†³æ–¹æ³•2 : å…ˆä½¿ç”¨utf8æ ¼å¼</p>
<h2 id="django-migrateçš„é—®é¢˜"><a href="#django-migrateçš„é—®é¢˜" class="headerlink" title="django migrateçš„é—®é¢˜"></a>django migrateçš„é—®é¢˜</h2><p>å‡ºç°ä¸‹é¢è¿™ä¸ªé—®é¢˜ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ä½ çš„modelè®¾ç½®é”™è¯¯äº†ã€‚æœ‰äº›å­—æ®µç±»å‹éœ€è¦å›ºå®šçš„å±æ€§<br>å¦‚integerFieldå­—æ®µéœ€è¦defaultè¿™ä¸ªé€‰é¡¹ï¼Œæ·»åŠ å®Œä¹‹åå°±Okäº†</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">Please select a fix:</span><br><span class="line"> 1) Provide a one-off default now (will be <span class="hljs-built_in">set</span> on all existing rows with a null value <span class="hljs-keyword">for</span> this column)</span><br><span class="line"> 2) Quit, and <span class="hljs-built_in">let</span> me add a default <span class="hljs-keyword">in</span> models.p</span><br></pre></td></tr></tbody></table></figure></body></html>
        </div>
        
        
        
        
    </div>
</div>









    <div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/posts/9ec06885/"><i class="fas fa-angle-double-right"></i>Cè¯­è¨€åŸºç¡€</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-12-29T12:39:56.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2019-12-29</time>
                
                
                <div class="level-item">
                <i class="far fa-folder-open has-text-grey"></i>&nbsp;
                <a class="has-link-grey -link" href="/categories/%E7%BC%96%E7%A8%8B/">ç¼–ç¨‹</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/%E7%BC%96%E7%A8%8B/C%E8%AF%AD%E8%A8%80/">Cè¯­è¨€</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    <i class="far fa-clock"></i>&nbsp;
                    
                    
                    2 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 334 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <div class="content">
            <html><head></head><body><h1 id="Cè¯­è¨€åŸºç¡€"><a href="#Cè¯­è¨€åŸºç¡€" class="headerlink" title="Cè¯­è¨€åŸºç¡€"></a>Cè¯­è¨€åŸºç¡€</h1><p>å¯¹Cè¯­è¨€åŸºç¡€åªæ˜¯çš„æ¦‚æ‹¬</p>
<p>ç›®æ ‡æ–‡ä»¶ å¯æ‰§è¡Œæ–‡ä»¶ åº“ æºæ–‡ä»¶</p>
<p>æºæ–‡ä»¶æŒ‡çš„æ˜¯æˆ‘ä»¬æ‰€ç¼–å†™çš„æ–‡ä»¶</p>
<figure class="highlight c hljs"><table><tbody><tr><td class="code"><pre><span class="line">vi xx.c</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string"><stdio.h></span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>{</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"hello world"</span>);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>ä»¥ä¸Šxx.cå°±æ˜¯æˆ‘ä»¬çš„æºæ–‡ä»¶</p>
<p><strong>åœ¨unixä¸­</strong><br>ç¼–è¯‘cè¯­è¨€ cc xx.c ä¼šåœ¨å½“å‰æ–‡ä»¶å¤¹ç”Ÿæˆä¸€ä¸ªa.outçš„å¯æ‰§è¡Œæ–‡ä»¶  è¿è¡Œå³å¯</p>
<p>æ•´ä¸ªæµç¨‹å°±æ˜¯ç”¨æˆ·è¾“å…¥ä»£ç ç”Ÿæˆæºç æ–‡ä»¶ é€šè¿‡ccç¼–è¯‘åç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ è¿è¡Œè¾“å‡ºå†…å®¹<br>ccå…¶å®æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œå¯ä»¥ç”¨man cc æŸ¥çœ‹  ä¹Ÿå¯ä»¥ç”¨cc -væŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯</p>
<p><strong>åœ¨linuxä¸­</strong><br>ä½¿ç”¨gccç¼–è¯‘cæ–‡ä»¶ gcc xx.c</p>
<h2 id="ç¬¬ä¸€ä¸ªcè¯­è¨€ç¨‹åº"><a href="#ç¬¬ä¸€ä¸ªcè¯­è¨€ç¨‹åº" class="headerlink" title="ç¬¬ä¸€ä¸ªcè¯­è¨€ç¨‹åº"></a>ç¬¬ä¸€ä¸ªcè¯­è¨€ç¨‹åº</h2><!-- vim-markdown-toc -->
<figure class="highlight c hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-meta"># <span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string"><stdio.h></span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>{</span><br><span class="line">	<span class="hljs-keyword">int</span> nums;</span><br><span class="line">	nums = <span class="hljs-number">1</span>;</span><br><span class="line">	<span class="hljs-built_in">printf</span>(<span class="hljs-string">"how many dogs do you have?\n"</span>);</span><br><span class="line">	getchar();</span><br><span class="line">	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">}</span><br><span class="line">includeæ˜¯é¢„å¤„ç†å™¨æŒ‡ä»¤  mainæ˜¯ç¬¬ä¸€ä¸ªè¢«è°ƒç”¨çš„å‡½æ•° func aæ˜¯æ„é€ å—</span><br><span class="line">stdio.h æ˜¯cç¼–è¯‘å™¨è½¯ä»¶åŒ…çš„æ ‡å‡†éƒ¨åˆ†</span><br></pre></td></tr></tbody></table></figure>

<h2 id="å˜é‡ç±»å‹"><a href="#å˜é‡ç±»å‹" class="headerlink" title="å˜é‡ç±»å‹"></a>å˜é‡ç±»å‹</h2><p>æ•´æ•° int</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">int nums=12;</span><br><span class="line"></span><br><span class="line">int nums;</span><br><span class="line">nums = 12; </span><br><span class="line"></span><br><span class="line">int nums = 12 , ages = 20;</span><br></pre></td></tr></tbody></table></figure>
<p>å¤§è‡´çš„æ‰§è¡Œè¿‡ç¨‹ä¸º int nums åˆ’åˆ†å‡ºä¸€å—å†…å­˜ç©ºé—´åä¸ºnums<br>nums = 12 ä¸ºnumsèµ‹å€¼12çš„å˜é‡</p>
<h2 id="é”™è¯¯"><a href="#é”™è¯¯" class="headerlink" title="é”™è¯¯"></a>é”™è¯¯</h2><p>zsh: command not found: a.out<br>macä¸‹æ— æ³•æ‰§è¡Œccç¼–è¯‘åçš„æ–‡ä»¶<br><font color="blue">å› ä¸ºæ²¡æœ‰ç¡®å®šå·¥ä½œè·¯å¾„ è¿è¡Œ./a.outå°±å¯ä»¥äº†</font></p>
</body></html>
        </div>
        
        
        
        
    </div>
</div>









    <div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/posts/b3a48f7b/"><i class="fas fa-angle-double-right"></i>Pythonçˆ¬YouTubeè§†é¢‘</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-12-29T12:39:12.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2019-12-29</time>
                
                
                <div class="level-item">
                <i class="far fa-folder-open has-text-grey"></i>&nbsp;
                <a class="has-link-grey -link" href="/categories/code/">code</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    <i class="far fa-clock"></i>&nbsp;
                    
                    
                    7 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 1024 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <div class="content">
            <html><head></head><body><p>learn python ğŸ</p></body></html>
        </div>
        
        
        
        <hr style="height:1px;margin:1rem 0"/>
        <div class="level is-mobile is-flex">
            <div class="level-start">
                
                <div class="level-item is-size-7 is-uppercase">
                    <i class="fas fa-tags has-text-grey"></i>&nbsp;
                    <a class="has-link-grey -link" href="/tags/code/" rel="tag">code</a>,&nbsp;<a class="has-link-grey -link" href="/tags/python/" rel="tag">python</a>
                </div>
                
            </div>
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/posts/b3a48f7b/#more"><i class="fas fa-book-reader has-text-grey"></i>&nbsp;&nbsp;é˜…è¯»æ›´å¤š</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>









    <div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/posts/899b698f/"><i class="fas fa-angle-double-right"></i>åˆæ‹äº‘</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-12-29T05:13:50.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2019-12-29</time>
                
                
                <div class="level-item">
                <i class="far fa-folder-open has-text-grey"></i>&nbsp;
                <a class="has-link-grey -link" href="/categories/%E8%AE%BE%E5%A4%87/">è®¾å¤‡</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    <i class="far fa-clock"></i>&nbsp;
                    
                    
                    7 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 1043 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <div class="content">
            <html><head></head><body><h1 id="åˆæ‹äº‘å·¥ä½œè®°å½•"><a href="#åˆæ‹äº‘å·¥ä½œè®°å½•" class="headerlink" title="åˆæ‹äº‘å·¥ä½œè®°å½•"></a>åˆæ‹äº‘å·¥ä½œè®°å½•</h1><h2 id="äº¤æ¢æœºå‘½åæ ¼å¼"><a href="#äº¤æ¢æœºå‘½åæ ¼å¼" class="headerlink" title="äº¤æ¢æœºå‘½åæ ¼å¼"></a>äº¤æ¢æœºå‘½åæ ¼å¼</h2><p>ä¸‰å¤§è¿è¥å•†ç¼©å†™ + é™„è¿‘æœºåœºä»£ç  + S01ç­‰</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">ç§»åŠ¨ CMN</span><br><span class="line">ç”µä¿¡ CTN</span><br><span class="line">è”é€š CUN</span><br></pre></td></tr></tbody></table></figure>

<h2 id="äº¤æ¢æœºipv6æ£€æµ‹å†…å®¹"><a href="#äº¤æ¢æœºipv6æ£€æµ‹å†…å®¹" class="headerlink" title="äº¤æ¢æœºipv6æ£€æµ‹å†…å®¹"></a>äº¤æ¢æœºipv6æ£€æµ‹å†…å®¹</h2><p>åŸå›  å†…ç½‘æœºå™¨æ¯”å¦‚å…¨æ˜¯ç§»åŠ¨çš„ï¼Œäº¤æ¢æœºé…çš„ç§»åŠ¨çš„ipï¼Œä¸‹é¢é…çš„ä¹Ÿæ˜¯ç§»åŠ¨çš„ip<br>è¿™æ ·pingçš„é€šï¼Œä½†æ˜¯è”é€šçš„æœåŠ¡å™¨ip pingä¸åŒã€‚ä¹Ÿå°±æ˜¯è¯´æ˜¯å†…ç½‘é€šï¼Œå¤–ç½‘ä¸åŒã€‚<br>å†…ç½‘ping ç½‘å…³è‚¯å®šé€š</p>
<p>æ£€æµ‹ï¼š<br>ç”¨ç§»åŠ¨çš„äº¤æ¢æœºä¸‹é¢çš„æœåŠ¡å™¨ï¼ˆå‡ºé—®é¢˜çš„äº¤æ¢æœºï¼‰  å»mtrå¤–ç½‘çš„ipï¼Œå»çœ‹æ˜¯å“ªé‡Œæ–­æ‰çš„<br>è€Œä¸æ˜¯ç”¨å¤–ç½‘çš„æœºå™¨æ¥mtrå†…ç½‘çš„ipï¼Œè¿™æ ·æˆªæ­¢çš„åœ°æ–¹ä¼šçœ‹ä¸å‡ºæ¥ï¼Œå› ä¸ºä¸æ˜¯å†…ç½‘çš„æœºå™¨</p>
<h2 id="ipv6é…ç½®"><a href="#ipv6é…ç½®" class="headerlink" title="ipv6é…ç½®"></a>ipv6é…ç½®</h2><figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-comment">#ä¸šåŠ¡vlan</span></span><br><span class="line">interface Vlan-interface1</span><br><span class="line">ipv6 address +ä¸šåŠ¡vlan ip</span><br><span class="line">undo ipv6 nd ra halt</span><br><span class="line"><span class="hljs-comment">#äº’è”vlan</span></span><br><span class="line">interface Vlan-interface200</span><br><span class="line">ipv6 address  +äº’è”æœ¬åœ°ip</span><br><span class="line"><span class="hljs-comment">#é»˜è®¤è·¯ç”±</span></span><br><span class="line">ipv6 route-static :: 0 + äº’è”å¯¹ç«¯ip</span><br></pre></td></tr></tbody></table></figure>

<h2 id="é…ç½®æ¡ˆä¾‹"><a href="#é…ç½®æ¡ˆä¾‹" class="headerlink" title="é…ç½®æ¡ˆä¾‹"></a>é…ç½®æ¡ˆä¾‹</h2><figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">å¹¿ä¸œå¹¿å·ç§»åŠ¨æœºæˆ¿ï¼ˆè‡ªæœ‰æœºæˆ¿NMï¼‰ï¼š2409:8C54:B000:0704::/64   äº’è”åœ°å€ æœºæˆ¿ï¼šFEC0::C/127ï¼Œ æˆ‘å¸ FEC0::D/127</span><br><span class="line"></span><br><span class="line">vlan 1 </span><br><span class="line">ip address 2409:8C54:B000:0704::/64 </span><br><span class="line">undo ipv6 nd ra halt</span><br><span class="line">vlan 20</span><br><span class="line">ipv6 address FEC0::D/127</span><br><span class="line">router-static</span><br><span class="line">ipv6 route-static :: 0 FEC0::C</span><br><span class="line"></span><br><span class="line">å±±ä¸œæµå—ç§»åŠ¨æœºæˆ¿ï¼ˆè‡ªæœ‰èŠ‚ç‚¹NMï¼‰ï¼š2409:8C3C:0004:000C::/64ï¼Œäº’è”åœ°å€ä¸ºï¼š2409:8C3C:00FF:0004::000E/127ã€ æˆ‘å¸ 2409:8C3C:00FF:0004::0010/127</span><br><span class="line"></span><br><span class="line">vlan 1</span><br><span class="line">ip address 2409:8C3C:0004:000C::/64</span><br><span class="line">undo ipv6 nd ra halt</span><br><span class="line">vlan 20</span><br><span class="line">ipv6 address 2409:8C3C:00FF:0004::0010/127</span><br><span class="line">route-static</span><br><span class="line">ipv6 route-static :: 0 2409:8C3C:00FF:0004::000E</span><br><span class="line">vlan 1</span><br><span class="line">ipv6 address 240E:E9:B804:3:400::1/72</span><br><span class="line">undo ipv6 nd ra halt</span><br><span class="line">vlan 30 </span><br><span class="line">ipv6 address 240E:E9:B804:3:200::A3/127</span><br><span class="line">ipv6 address 240E:E9:B804:3:200::B3/127</span><br><span class="line">router-static</span><br><span class="line">ipv6 route-static :: 0 240E:E9:B804:3:200::A3</span><br></pre></td></tr></tbody></table></figure>

<h2 id="æ— æ³•è”ç½‘"><a href="#æ— æ³•è”ç½‘" class="headerlink" title="æ— æ³•è”ç½‘"></a>æ— æ³•è”ç½‘</h2><ol>
<li><p>é¦–å…ˆpingäº¤æ¢æœºip  çœ‹æ˜¯å¦é€š</p>
</li>
<li><p>ä¸²å£çº¿è¿æ¥äº¤æ¢æœº  pingç½‘å…³æ˜¯å¦é€šä¸é€š  10.0.0.130</p>
</li>
<li><p>æŸ¥çœ‹ç«¯å£çŠ¶æ€<br>dis int brief<br>èšåˆå£æ˜¯å¦èµ·æ¥ ç«¯å£æ˜¯å¦èµ·æ¥ pvidæ˜¯å¦å¯¹åº”1000(ç»Ÿä¸€æ˜¯1000 é™¤ä¸ªåˆ«å¤–å¯ä»¥åœ¨ä¸Šè”äº¤æ¢æœºä¸Šçœ‹10.0.0.130)</p>
</li>
<li><p>ç¡¬ä»¶é—®é¢˜<br>çœ‹æ¨¡å—æ˜¯å¦å‘å…‰  çœ‹è·³çº¿æ˜¯å¦å‘å…‰</p>
</li>
</ol>
<h2 id="æ•´ç†é¦™æ¸¯nttç‚¹ipå¯¹åº”å…³ç³»"><a href="#æ•´ç†é¦™æ¸¯nttç‚¹ipå¯¹åº”å…³ç³»" class="headerlink" title="æ•´ç†é¦™æ¸¯nttç‚¹ipå¯¹åº”å…³ç³»"></a>æ•´ç†é¦™æ¸¯nttç‚¹ipå¯¹åº”å…³ç³»</h2><ol>
<li>ç™»é™†netopæœåŠ¡å™¨</li>
<li>ç™»é™†é¦™æ¸¯nttäº¤æ¢æœº</li>
<li>æŸ¥çœ‹vlan1 å¯¹åº”ip å…¶ä¸­157.xxx/27 <figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">[NTT-CN-HKG-S01-Vlan-interface1]display this</span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line">interface Vlan-interface1</span><br><span class="line"> ip address 157.119.232.1 255.255.255.224</span><br><span class="line"> ip address 10.81.0.254 255.255.255.0 sub</span><br><span class="line"> ip address 103.211.192.221 255.255.255.252 sub</span><br><span class="line"> ip address 103.251.128.1 255.255.255.224 sub</span><br><span class="line"> ip address 157.119.232.65 255.255.255.224 sub</span><br><span class="line"> ip address 192.168.1.1 255.255.255.0 sub</span><br><span class="line"> ip address 192.168.128.1 255.255.255.0 sub</span><br><span class="line"> ip address 192.168.232.1 255.255.255.224 sub</span><br><span class="line"> ipv6 address 2405:FD80:110::1/52</span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line"><span class="hljs-built_in">return</span></span><br></pre></td></tr></tbody></table></figure>
åœ¨netopæœåŠ¡å™¨ä¸Šç”¨fping -g 157.119.231.1/27 æ¥æŸ¥çœ‹å¯¹åº”ipçš„çŠ¶æ€</li>
</ol>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">[root@NETOPS machines]<span class="hljs-comment"># fping -g 157.119.232.65/27</span></span><br><span class="line">157.119.232.65 is alive</span><br><span class="line">157.119.232.66 is alive</span><br><span class="line">157.119.232.67 is alive</span><br><span class="line">157.119.232.68 is alive</span><br><span class="line">157.119.232.69 is alive</span><br><span class="line">157.119.232.70 is alive</span><br><span class="line">157.119.232.71 is alive</span><br><span class="line">157.119.232.72 is alive</span><br><span class="line">157.119.232.73 is alive</span><br><span class="line">157.119.232.74 is alive</span><br><span class="line">157.119.232.75 is alive</span><br><span class="line">157.119.232.85 is alive</span><br><span class="line">157.119.232.87 is alive</span><br><span class="line">157.119.232.86 is alive</span><br><span class="line">157.119.232.88 is alive</span><br><span class="line">157.119.232.89 is alive</span><br><span class="line">157.119.232.90 is alive</span><br><span class="line">157.119.232.91 is alive</span><br><span class="line">157.119.232.76 is unreachable</span><br><span class="line">157.119.232.77 is unreachable</span><br><span class="line">157.119.232.78 is unreachable</span><br><span class="line">157.119.232.79 is unreachable</span><br><span class="line">157.119.232.80 is unreachable</span><br><span class="line">157.119.232.81 is unreachable</span><br><span class="line">157.119.232.82 is unreachable</span><br><span class="line">157.119.232.83 is unreachable</span><br><span class="line">157.119.232.84 is unreachable</span><br><span class="line">157.119.232.92 is unreachable</span><br><span class="line">157.119.232.93 is unreachable</span><br><span class="line">157.119.232.94 is unreachable</span><br><span class="line">[root@NETOPS machines]<span class="hljs-comment"># fping -g 157.119.232.1/27</span></span><br><span class="line">157.119.232.1 is alive</span><br><span class="line">157.119.232.2 is alive</span><br><span class="line">157.119.232.3 is alive</span><br><span class="line">157.119.232.4 is alive</span><br><span class="line">157.119.232.5 is alive</span><br><span class="line">157.119.232.6 is alive</span><br><span class="line">157.119.232.7 is alive</span><br><span class="line">157.119.232.8 is alive</span><br><span class="line">157.119.232.9 is alive</span><br><span class="line">157.119.232.10 is alive</span><br><span class="line">157.119.232.11 is alive</span><br><span class="line">157.119.232.12 is alive</span><br><span class="line">157.119.232.13 is alive</span><br><span class="line">157.119.232.14 is alive</span><br><span class="line">157.119.232.15 is alive</span><br><span class="line">157.119.232.16 is alive</span><br><span class="line">157.119.232.17 is alive</span><br><span class="line">157.119.232.19 is alive</span><br><span class="line">157.119.232.18 is alive</span><br><span class="line">157.119.232.20 is alive</span><br><span class="line">157.119.232.21 is alive</span><br><span class="line">157.119.232.22 is alive</span><br><span class="line">157.119.232.23 is alive</span><br><span class="line">157.119.232.24 is alive</span><br><span class="line">157.119.232.25 is alive</span><br><span class="line">157.119.232.26 is alive</span><br><span class="line">157.119.232.27 is alive</span><br><span class="line">157.119.232.28 is alive</span><br><span class="line">157.119.232.29 is alive</span><br><span class="line">157.119.232.30 is alive</span><br></pre></td></tr></tbody></table></figure>


<p>æŸ¥çœ‹inventoryä¸­å¯¹åº”å…³ç³»</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">[root@NETOPS machines]<span class="hljs-comment"># grep 157.119.232.73 /root/mingtao/inventory/machines/*</span></span><br><span class="line">/root/mingtao/inventory/machines/lists-upapp-01:157.119.232.73</span><br><span class="line">[root@NETOPS machines]<span class="hljs-comment"># grep 157.119.232.30 /root/mingtao/inventory/machines/*</span></span><br><span class="line">/root/mingtao/inventory/machines/lists-cdn-v406:<span class="hljs-comment"># NTT-CN-HKG-030 ansible_ssh_host=157.119.232.30</span></span><br><span class="line">/root/mingtao/inventory/machines/lists-openstack:<span class="hljs-comment"># NTT-CN-HKG-030 ansible_ssh_host=157.119.232.30</span></span><br><span class="line">/root/mingtao/inventory/machines/lists-openstack:OPK-HKG-M30 ansible_ssh_host=157.119.232.30</span><br><span class="line">/root/mingtao/inventory/machines/lists-upops:NTT-CN-HKG-030 ansible_ssh_host=157.119.232.30</span><br><span class="line">[root@NETOPS machines]<span class="hljs-comment"># grep 157.119.232.29 /root/mingtao/inventory/machines/*</span></span><br><span class="line">/root/mingtao/inventory/machines/lists-cdn-v406:<span class="hljs-comment"># NTT-CN-HKG-029 ansible_ssh_host=157.119.232.29</span></span><br><span class="line">/root/mingtao/inventory/machines/lists-openstack:<span class="hljs-comment"># NTT-CN-HKG-029 ansible_ssh_host=157.119.232.29</span></span><br><span class="line">/root/mingtao/inventory/machines/lists-upapp-01:157.119.232.29</span><br><span class="line">[root@NETOPS machines]<span class="hljs-comment"># grep 157.119.232.20 /root/mingtao/inventory/machines/*</span></span><br><span class="line">[root@NETOPS machines]<span class="hljs-comment"># grep 157.119.232.24 /root/mingtao/inventory/machines/*</span></span><br><span class="line">[root@NETOPS machines]<span class="hljs-comment"># grep 157.119.232.21 /root/mingtao/inventory/machines/*</span></span><br></pre></td></tr></tbody></table></figure>
<p>è®°å½•æœºå™¨çš„å¯¹åº”åå­—</p>
<h3 id="nttæœºå™¨å¯¹åº”è„šæœ¬"><a href="#nttæœºå™¨å¯¹åº”è„šæœ¬" class="headerlink" title="nttæœºå™¨å¯¹åº”è„šæœ¬"></a>nttæœºå™¨å¯¹åº”è„šæœ¬</h3><figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-meta">#!/usr/bin/bash</span></span><br><span class="line"><span class="hljs-comment"># add ip (active and unknown)</span></span><br><span class="line">fping -g 157.119.232.65/27 > ntt_machine</span><br><span class="line">fping -g 157.119.231.1/27 >> ntt_machine</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># filter active to tmp.txt</span></span><br><span class="line">awk <span class="hljs-string">'{if($3=="alive"){print $1}}'</span> > tmp.txt ntt_machine</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Calculate the total</span></span><br><span class="line">nums=`cat tmp.txt | wc -l`</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># reset result.txt to blank</span></span><br><span class="line"><span class="hljs-built_in">echo</span> <span class="hljs-string">"result:"</span> > result.txt</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># filter ip</span></span><br><span class="line"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> `seq 1 <span class="hljs-variable">$nums</span>`</span><br><span class="line"><span class="hljs-keyword">do</span></span><br><span class="line">        ip=`awk <span class="hljs-string">"NR==<span class="hljs-variable">$i</span>"</span> tmp.txt`</span><br><span class="line">        link=`grep -w <span class="hljs-variable">$ip</span> mingtao/inventory/machines/machines/*`</span><br><span class="line">        link=`<span class="hljs-built_in">echo</span> <span class="hljs-variable">$link</span> | awk -F<span class="hljs-string">":"</span> <span class="hljs-string">'{print $2}'</span> `</span><br><span class="line">        link=`<span class="hljs-built_in">echo</span> <span class="hljs-variable">$link</span> | awk <span class="hljs-string">'{if($1=="#"){print $2}else{print $1}}'</span>`</span><br><span class="line">        <span class="hljs-built_in">echo</span>  <span class="hljs-variable">$ip</span>   ,<span class="hljs-string">"active"</span>   ,   <span class="hljs-variable">$link</span> >> result.txt</span><br><span class="line"><span class="hljs-keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># add unknown to tmp.txt</span></span><br><span class="line">awk <span class="hljs-string">'{if($3!="alive"){print $1,$3}}'</span> >> result.txt ntt_machine</span><br><span class="line">~</span><br></pre></td></tr></tbody></table></figure>

<h3 id="åº•å±‚è®¾å¤‡åˆ°ç½‘ç»œé…ç½®"><a href="#åº•å±‚è®¾å¤‡åˆ°ç½‘ç»œé…ç½®" class="headerlink" title="åº•å±‚è®¾å¤‡åˆ°ç½‘ç»œé…ç½®"></a>åº•å±‚è®¾å¤‡åˆ°ç½‘ç»œé…ç½®</h3><p><img src="http://img.noback.top/2019-12-31-11-26-32.png" alt="2019-12-31-11-26-32"><br>é€šè¿‡è¯¥toweræˆªå›¾æ¥è·å–ç½‘ç»œé…ç½®éœ€æ±‚<br>15å°1UæœåŠ¡å™¨<br>1å°5130äº¤æ¢æœº<br>2ä¸ªä¸‡å…†å¤šæ¨¡æ¨¡å—<br>30æ ¹ç½‘çº¿<br>16æ ¹ç”µæºçº¿</p>
<p>1ä¸ªä¸‡å…†å£</p>
<p>1-30å£æ±‡èš<br>49å£æ¥ä¸Šè” èµ°trunk</p>
</body></html>
        </div>
        
        
        
        
    </div>
</div>









    <div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/posts/c10f304f/"><i class="fas fa-angle-double-right"></i>å¸¸è§é”™è¯¯</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-12-29T05:13:35.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2019-12-29</time>
                
                
                <div class="level-item">
                <i class="far fa-folder-open has-text-grey"></i>&nbsp;
                <a class="has-link-grey -link" href="/categories/%E8%AE%BE%E5%A4%87/">è®¾å¤‡</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    <i class="far fa-clock"></i>&nbsp;
                    
                    
                    4 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 576 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <div class="content">
            <html><head></head><body><h1 id="linuxé”™è¯¯"><a href="#linuxé”™è¯¯" class="headerlink" title="linuxé”™è¯¯"></a>linuxé”™è¯¯</h1><h2 id="yumä¸æ”¯æŒpython3"><a href="#yumä¸æ”¯æŒpython3" class="headerlink" title="yumä¸æ”¯æŒpython3"></a>yumä¸æ”¯æŒpython3</h2><figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">[root@gogogo alpaca]<span class="hljs-comment"># yum</span></span><br><span class="line">  File <span class="hljs-string">"/bin/yum"</span>, line 30</span><br><span class="line">    except KeyboardInterrupt, e:</span><br><span class="line">                            ^</span><br><span class="line">SyntaxError: invalid syntax</span><br><span class="line">  File <span class="hljs-string">"/usr/libexec/urlgrabber-ext-down"</span>, line 28</span><br><span class="line">    except OSError, e:</span><br></pre></td></tr></tbody></table></figure>
<p><strong>è§£å†³åŠæ³•</strong></p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">sed -i <span class="hljs-string">'s:bin/python:bin/python2.7:'</span> /usr/bin/yum</span><br><span class="line">sed -i <span class="hljs-string">'s:bin/python:bin/python2.7:'</span> /usr/libexec/urlgrabber-ext-down</span><br></pre></td></tr></tbody></table></figure>

<h2 id="å¯ä»¥é€šå¤–ç½‘ï¼Œä½†æ˜¯æ— æ³•pingç™¾åº¦"><a href="#å¯ä»¥é€šå¤–ç½‘ï¼Œä½†æ˜¯æ— æ³•pingç™¾åº¦" class="headerlink" title="å¯ä»¥é€šå¤–ç½‘ï¼Œä½†æ˜¯æ— æ³•pingç™¾åº¦"></a>å¯ä»¥é€šå¤–ç½‘ï¼Œä½†æ˜¯æ— æ³•pingç™¾åº¦</h2><p>åŒ…æ‹¬æ— æ³•ä½¿ç”¨yum wget ç­‰ä¸‹è½½å·¥å…·<br>æˆ–è€…æŠ¥é”™ cannot find a valid baseurl for repo:base/7/x86_64 çš„è§£å†³æ–¹æ³•</p>
<p><strong>è§£å†³åŠæ³•</strong><br>åŸå›  - > DNSçš„é—®é¢˜</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-built_in">echo</span> nameserver 114.114.114.114 > /etc/reslov.conf</span><br></pre></td></tr></tbody></table></figure>

<h2 id="linuxä¸­å¦‚ä½•æ¢å¤åˆ°åå°è¿›ç¨‹"><a href="#linuxä¸­å¦‚ä½•æ¢å¤åˆ°åå°è¿›ç¨‹" class="headerlink" title="linuxä¸­å¦‚ä½•æ¢å¤åˆ°åå°è¿›ç¨‹"></a>linuxä¸­å¦‚ä½•æ¢å¤åˆ°åå°è¿›ç¨‹</h2><p>linux ä¸‹æˆ‘ä»¬å¦‚æœæƒ³ä¸€ä¸ªä»»åŠ¡æˆ–è€…ç¨‹åºè¿›è¡Œè°ƒåº¦<br>bg å°†ä¸€ä¸ªåå°æš‚åœçš„å‘½ä»¤ï¼Œå˜æˆç»§ç»­æ‰§è¡Œ<br>fg å°†åå°çš„å‘½ä»¤è°ƒè‡³å‰å°ç»§ç»­è¿è¡Œ<br>jobs æŸ¥çœ‹å½“å‰åœ¨åå°è¿è¡Œçš„å‘½ä»¤<br>c-z å°†å‰å°å‘½ä»¤æ”¾åˆ°åå°è¿è¡Œ å¹¶ä¸”æš‚åœ<br>nohup command & åœ¨åå°ä¸æ–­è¿è¡Œcommandå‘½ä»¤</p>
<h2 id="sshé…ç½®çš„é—®é¢˜"><a href="#sshé…ç½®çš„é—®é¢˜" class="headerlink" title="sshé…ç½®çš„é—®é¢˜"></a>sshé…ç½®çš„é—®é¢˜</h2><p><font color="blue">è¿™ä¸ªé—®é¢˜ä¸»è¦æ˜¯å­˜åœ¨äºäº¤æ¢æœºsshç™»é™†äº¤æ¢æœºçš„è¿‡ç¨‹</font><br>sshé…ç½®è¿‡ç¨‹ä¸­ï¼Œé…ç½®äº†å¯†ç ç™»é™†ï¼Œä½†æ˜¯å‡ºç°ä¸‹é¢çš„é”™è¯¯</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line"><ONI-KC-R01-CR1>ssh 10.0.0.166</span><br><span class="line">The server<span class="hljs-string">'s host key does not match the local cached key. Either the server administrator has changed the host key, or you connected to another server pretending to be this server. Please remove the local cached key, before logging in!</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸»è¦é—®é¢˜æ˜¯ä¸€å¼€å§‹ç”¨sshç™»é™†äº¤æ¢æœºçš„æ—¶å€™ï¼Œé€‰æ‹©äº†ä¿å­˜key</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line"><ONI-KC-R01-CR1>ssh 10.0.0.166</span><br><span class="line">Username: tt</span><br><span class="line">Press CTRL+C to abort.</span><br><span class="line">Connecting to 10.0.0.166 port 22.</span><br><span class="line">The server is not authenticated. Continue? [Y/N]:y</span><br><span class="line">Do you want to save the server public key? [Y/N]:y</span><br></pre></td></tr></tbody></table></figure>
<p>è¿™æ ·å¯¼è‡´çš„é—®é¢˜å°±æ˜¯åœ¨å½“å‰äº¤æ¢æœºä¸Šä¼šä¿å­˜ä¸€ä¸ªç™»é™†å¦ä¸€ä¸ªäº¤æ¢æœºçš„key</p>
<figure class="highlight plain hljs"><table><tbody><tr><td class="code"><pre><span class="line">#</span><br><span class="line">public-key peer 10.0.0.166</span><br><span class="line"> public-key-code begin</span><br><span class="line">   30819F300D06092A864886F70D010101050003818D0030818902818100DF3E1240D158E197</span><br><span class="line">   CE0712173C8591883F88CC925B1C0CFC63C779E9F531C3B7E409BBB2CCED954C09A339BE78</span><br><span class="line">   46B1497E4771EDD7E88D2E380C50F37A6EC9254E6B27EC7AFFE6DCDFC1EA230D16C4DC9BB8</span><br><span class="line">   B831A2F0CB578B736566052E830A582836AA9BFFE0821CE7CB43F74077D38B20437479F260</span><br><span class="line">   A5D0550CA7D3D0747F0203010001</span><br><span class="line"> public-key-code end</span><br><span class="line"> peer-public-key end</span><br><span class="line">#</span><br></pre></td></tr></tbody></table></figure>
<p>äºæ˜¯å½“ä½ ä¸‹æ¬¡é€‰æ‹©ä½¿ç”¨ssh+å¯†ç ç™»é™†äº¤æ¢æœºçš„æ—¶å€™å°±ä¼šå‘ç°é”™è¯¯</p>
<p><font color="red">è§£å†³</font><br>åˆ é™¤å½“å‰äº¤æ¢æœºçš„key  å¹¶åœ¨ä¸‹æ¬¡ç™»é™†çš„æ—¶å€™é€‰æ‹©</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line"><ONI-KC-R01-CR1>ssh 10.0.0.166</span><br><span class="line">Username: tt</span><br><span class="line">Press CTRL+C to abort.</span><br><span class="line">Connecting to 10.0.0.166 port 22.</span><br><span class="line">The server is not authenticated. Continue? [Y/N]:y</span><br><span class="line">Do you want to save the server public key? [Y/N]:n</span><br></pre></td></tr></tbody></table></figure>

</body></html>
        </div>
        
        
        
        
    </div>
</div>









    <div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/posts/83186147/"><i class="fas fa-angle-double-right"></i>hexoåšå®¢ä¼˜åŒ–</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-12-29T05:12:17.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2019-12-29</time>
                
                
                <div class="level-item">
                <i class="far fa-folder-open has-text-grey"></i>&nbsp;
                <a class="has-link-grey -link" href="/categories/%E8%AE%BE%E5%A4%87/">è®¾å¤‡</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    <i class="far fa-clock"></i>&nbsp;
                    
                    
                    2 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 320 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <div class="content">
            <html><head></head><body><h1 id="handsomeåšå®¢ä¼˜åŒ–"><a href="#handsomeåšå®¢ä¼˜åŒ–" class="headerlink" title="handsomeåšå®¢ä¼˜åŒ–"></a>handsomeåšå®¢ä¼˜åŒ–</h1><h2 id="ä¿®æ”¹å³ä¾§æ "><a href="#ä¿®æ”¹å³ä¾§æ " class="headerlink" title="ä¿®æ”¹å³ä¾§æ "></a>ä¿®æ”¹å³ä¾§æ </h2><p>sidebar.php æ­¤å¤„ç›´æ¥å»é™¤äº† çƒ­é—¨æ–‡å­— ã€ æœ€æ–°è¯„è®º ã€ éšæœºæ–‡å­— è¿™ä¸‰ä¸ªæ¨¡å—ï¼ˆä»–ä»¬åœ¨ä¸€ä¸ª Tab é‡Œï¼‰</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line"><section id=<span class="hljs-string">"tabs-4"</span> class=<span class="hljs-string">"widget widget_tabs wrapper-md clear"</span>></span><br><span class="line">    <h3 class=<span class="hljs-string">"widget-title m-t-none text-md"</span>><?php _me(<span class="hljs-string">"é—²è¨€ç¢è¯­"</span>) ?></h3></span><br><span class="line">    <div style=<span class="hljs-string">"font-size: 13px"</span>>è¿™é‡Œæ˜¯æˆ‘çš„ä¸ªäººå°ç«™ï¼šçŒ«ä¹‹ä¸‰åƒå²ï¼Œç”¨ä»¥è®°å½•ç”Ÿæ´»ä¸­çš„ç‚¹ç‚¹æ»´æ»´ï¼Œæˆ‘ä¸€ç›´è®¤ä¸ºæœ‰ä¸€ä¸ªå®‰é™çš„ã€æ¸©é¦¨çš„å°çªæ˜¯ä¸€ä»¶å¾ˆå¿«ä¹çš„äº‹æƒ…ã€‚æœ€åæ¬¢è¿æ‚¨ä¸ç»æ„é—´çš„å…‰ä¸´~ ğŸ¾</div></span><br><span class="line"></section></span><br></pre></td></tr></tbody></table></figure>

<h2 id="éƒ¨åˆ†ä¿®æ”¹ç½‘ç«™"><a href="#éƒ¨åˆ†ä¿®æ”¹ç½‘ç«™" class="headerlink" title="éƒ¨åˆ†ä¿®æ”¹ç½‘ç«™"></a>éƒ¨åˆ†ä¿®æ”¹ç½‘ç«™</h2><p><a href="https://szyink.com/archives/229/" target="_blank" rel="noopener">https://szyink.com/archives/229/</a></p>
<h2 id="å¦‚ä½•è·å–è‡ªå·±çš„å¤‡æ¡ˆå·"><a href="#å¦‚ä½•è·å–è‡ªå·±çš„å¤‡æ¡ˆå·" class="headerlink" title="å¦‚ä½•è·å–è‡ªå·±çš„å¤‡æ¡ˆå·"></a>å¦‚ä½•è·å–è‡ªå·±çš„å¤‡æ¡ˆå·</h2><p><a href="https://icp.chinaz.com/noback.top" target="_blank" rel="noopener">https://icp.chinaz.com/noback.top</a></p>
<h2 id="æ”¹æˆCDNçš„å†…å®¹"><a href="#æ”¹æˆCDNçš„å†…å®¹" class="headerlink" title="æ”¹æˆCDNçš„å†…å®¹"></a>æ”¹æˆCDNçš„å†…å®¹</h2><figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">public static <span class="hljs-keyword">function</span> whenSwitchHeaderImgSrc(<span class="hljs-variable">$index</span> = 0, <span class="hljs-variable">$howToThumb</span>, <span class="hljs-variable">$attach</span>, <span class="hljs-variable">$content</span>, <span class="hljs-variable">$thumbField</span>)</span><br><span class="line">   {</span><br><span class="line">       <span class="hljs-variable">$options</span> = mget();</span><br><span class="line">       //<span class="hljs-variable">$randomNum</span> = unserialize(INDEX_IMAGE_ARRAY);</span><br><span class="line"></span><br><span class="line">       // éšæœºç¼©ç•¥å›¾è·¯å¾„</span><br><span class="line">       // <span class="hljs-variable">$random</span> = <span class="hljs-string">"http://image.noback.top/"</span> . @<span class="hljs-variable">$randomNum</span>[<span class="hljs-variable">$index</span>] . <span class="hljs-string">'.jpg'</span>;//å¦‚æœæœ‰æ–‡ç« ç½®é¡¶ï¼Œè¿™é‡Œå¯èƒ½ä¼šå¯¼è‡´index not undefined</span><br><span class="line">       <span class="hljs-variable">$random</span> = <span class="hljs-string">'http://image.noback.top/'</span>.rand(1, 69).<span class="hljs-string">'.jpg'</span>;</span><br><span class="line">     	<span class="hljs-variable">$pattern</span> = <span class="hljs-string">'/\<img.*?src\=\"(.*?)\"[^>]*>/i'</span>;</span><br></pre></td></tr></tbody></table></figure>

<p>çªç„¶åˆæƒ³äº†ä¸€ä¸ªéªšæ“ä½œ  åªè¦æŠŠbing 4kå£çº¸ä¸Šçš„<br><a href="https://bing.lylares.com/detail/cnjX2Vj0.html" target="_blank" rel="noopener">https://bing.lylares.com/detail/cnjX2Vj0.html</a></p>
<p>åç¼€æ‹¿åˆ° å¼„ä¸€ä¸ªåˆ—è¡¨ éšæœºä¸€ä¸‹  è¿™æ ·CDNæµé‡é’±éƒ½çœäº†ï½</p>
<h2 id="ç½‘ç«™æµ‹é€Ÿ"><a href="#ç½‘ç«™æµ‹é€Ÿ" class="headerlink" title="ç½‘ç«™æµ‹é€Ÿ"></a>ç½‘ç«™æµ‹é€Ÿ</h2><p><a href="https://developers.google.com/speed/pagespeed/insights/?hl=zh-cn&url=http%3A%2F%2Fnoback.top%2F" target="_blank" rel="noopener">https://developers.google.com/speed/pagespeed/insights/?hl=zh-cn&url=http%3A%2F%2Fnoback.top%2F</a></p>
<h2 id="hexoåšå®¢ä¼˜åŒ–"><a href="#hexoåšå®¢ä¼˜åŒ–" class="headerlink" title="hexoåšå®¢ä¼˜åŒ–"></a>hexoåšå®¢ä¼˜åŒ–</h2><figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">end of the stream or a document separator is expected at line 8, column 1:</span><br><span class="line">æŠ¥é”™å†…å®¹ æ²¡æœ‰æ·»åŠ </span><br><span class="line">---</span><br><span class="line">title:</span><br><span class="line">tags:</span><br><span class="line">---</span><br><span class="line">ç­‰å¤´éƒ¨å†…å®¹</span><br></pre></td></tr></tbody></table></figure></body></html>
        </div>
        
        
        
        
    </div>
</div>









    <div class="card">
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/posts/cd35325c/"><i class="fas fa-angle-double-right"></i>è½¯ä»¶é…ç½®</a>
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-12-29T05:11:16.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2019-12-29</time>
                
                
                <div class="level-item">
                <i class="far fa-folder-open has-text-grey"></i>&nbsp;
                <a class="has-link-grey -link" href="/categories/%E8%AE%BE%E5%A4%87/">è®¾å¤‡</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    <i class="far fa-clock"></i>&nbsp;
                    
                    
                    7 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 1056 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <div class="content">
            <html><head></head><body><h1 id="è®¾å¤‡"><a href="#è®¾å¤‡" class="headerlink" title="è®¾å¤‡"></a>è®¾å¤‡</h1><p>æœ¬æ–‡ä¸»è¦è®°å½•ä¸€äº›è®¾å¤‡ä¸Šçš„å˜åŠ¨ï¼ŒåŒ…æ‹¬å¿«æ·é”®çš„è®¾ç½®ç­‰ç­‰</p>
<h2 id="vscode"><a href="#vscode" class="headerlink" title="vscode"></a>vscode</h2><h3 id="vscodeè®¾ç½®ä»£ç å—"><a href="#vscodeè®¾ç½®ä»£ç å—" class="headerlink" title="vscodeè®¾ç½®ä»£ç å—"></a>vscodeè®¾ç½®ä»£ç å—</h3><p>1.ç”±äºmarkdownä¸æ˜¯ä»€ä¹ˆç¼–ç¨‹è¯­æ³•ï¼Œvscodeä¸æ”¯æŒè‡ªåŠ¨æç¤ºå’Œè¡¥å…¨,æ‰€ä»¥æˆ‘ä»¬è¦ç°åœ¨ç”¨æˆ·è®¾ç½®ä¸­æ‰“å¼€markdownçš„è‡ªåŠ¨è¡¥å…¨<br><font color="red">ctrl+shift+p</font>æ‰“å¼€è®¾ç½®â€”> setting â€”-> åœ¨å…¶ä¸­æ·»åŠ </p>
<figure class="highlight hljs"><table><tbody><tr><td class="code"><pre><span class="line">"[markdown]": {</span><br><span class="line">    "editor.wordWrap": "on",</span><br><span class="line">    "editor.quickSuggestions": true,</span><br><span class="line">},</span><br></pre></td></tr></tbody></table></figure>

<p>2.æ·»åŠ è¡¥å…¨ä»£ç å—<br>ctrl+shift+p â€”> è¾“å…¥markdown â€“> æ‰“å¼€markdown.json â€”> æ·»åŠ å†…å®¹</p>
<figure class="highlight hljs"><table><tbody><tr><td class="code"><pre><span class="line">"Print to console": {</span><br><span class="line">		"prefix": "fcr",</span><br><span class="line">		"body": [</span><br><span class="line">			<span class="hljs-string">"<font color='red'>$1</font>"</span></span><br><span class="line">		],</span><br><span class="line">		"description": "change font-color to red sign import "</span><br><span class="line">	}</span><br></pre></td></tr></tbody></table></figure>
<p>å…¶ä¸­prefix æ˜¯æŒ‡ä½ ä»£ç å—çš„ç®€æ´å†™æ³•,åœ¨ä½ è¾“å…¥çš„æ—¶å€™ä¼šå‡ºç°ä»£ç å—çš„æç¤º<br>bodyæ˜¯ä¸»ä½“å†…å®¹,ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ·»åŠ çš„ä»£ç å—<br>description æ˜¯æ³¨é‡Šï¼Œä½ å¯ä»¥æ ‡æ³¨ä¸€ä¸‹è¿™ä»£ç å—æ˜¯ç”¨æ¥å¹²å˜›çš„</p>
<h3 id="vscode-ç»‘å®švimè‡ªå®šä¹‰å¿«æ·é”®"><a href="#vscode-ç»‘å®švimè‡ªå®šä¹‰å¿«æ·é”®" class="headerlink" title="vscode ç»‘å®švimè‡ªå®šä¹‰å¿«æ·é”®"></a>vscode ç»‘å®švimè‡ªå®šä¹‰å¿«æ·é”®</h3><p>åœ¨vscodeä¸­è‡ªå®šä¹‰vimå¿«æ·é”®<br>â€œvim.insertModeKeyBindingsâ€: [<br>        {<br>            â€œbeforeâ€: [â€œjâ€, â€œjâ€],<br>            â€œafterâ€: [â€œ<esc>â€œ]<br>        }<br>]<br><a href="https://github.com/VSCodeVim/Vim/#key-remapping" target="_blank" rel="noopener">https://github.com/VSCodeVim/Vim/#key-remapping</a></esc></p>
<h2 id="chrome"><a href="#chrome" class="headerlink" title="chrome"></a>chrome</h2><h3 id="æ¸…é™¤ç‰¹å®šç½‘å€çš„ç¼“å­˜"><a href="#æ¸…é™¤ç‰¹å®šç½‘å€çš„ç¼“å­˜" class="headerlink" title="æ¸…é™¤ç‰¹å®šç½‘å€çš„ç¼“å­˜"></a>æ¸…é™¤ç‰¹å®šç½‘å€çš„ç¼“å­˜</h3><p>æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰ï¼Œé€‰æ‹© Networkâ€”â€”Disable cache å³å¯ã€‚éœ€è¦æ¸…é™¤æŸç½‘ç«™ç¼“å­˜æ—¶ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·å°±ä¼šè‡ªåŠ¨æ¸…é™¤è¿™ä¸ªç½‘ç«™çš„ç¼“å­˜ï¼Œè€Œä¸å¿…æ¸…é™¤æ‰€æœ‰ç½‘ç«™çš„ç¼“å­˜äº†</p>
<h2 id="ss"><a href="#ss" class="headerlink" title="ss"></a>ss</h2><h3 id="ssåŠ å¼ºæ¨¡å¼"><a href="#ssåŠ å¼ºæ¨¡å¼" class="headerlink" title="ssåŠ å¼ºæ¨¡å¼"></a>ssåŠ å¼ºæ¨¡å¼</h3><p><font color="red"> Macç”µè„‘ä½¿ç”¨shadowsocksæ— æ³•è¿æ¥å…¬å¸å†…ç½‘é—®é¢˜</font><br>æœ€è¿‘æ¢äº†macä½†æ˜¯å‘ç°æ— æ³•è¿æ¥macç”µè„‘ï¼Œä¸»è¦åŸå› æ˜¯åœ¨macç”µè„‘ä¸­ssæ— æ³•å¯¹æ‰€æœ‰è½¯ä»¶éƒ½æ”¯æŒç«¯å£è½¬å‘,è¿™æ—¶å€™éœ€è¦ç”¨åˆ°ä¸€ä¸ªè½¯ä»¶ proxifier,åœ¨è¿™ä¸ªä¸Šé¢åšå…¨å±€çš„ç«¯å£è½¬å‘å³å¯</p>
<p><img src="http://img.noback.top/blog/imgproxifier%E8%BD%AF%E4%BB%B6.png" alt><br>çœ‹åˆ°socks5çš„ç›‘å¬ç«¯å£ä¸º 1086</p>
<ol>
<li>æ·»åŠ ä»£ç†<br><img src="http://img.noback.top/blog/img20191022152254.png" alt></li>
<li>æ·»åŠ è§„åˆ™<br><img src="http://img.noback.top/blog/img20191022152521.png" alt></li>
</ol>
<h2 id="mac"><a href="#mac" class="headerlink" title="mac"></a>mac</h2><h3 id="macè¿æ¥äº¤æ¢æœº"><a href="#macè¿æ¥äº¤æ¢æœº" class="headerlink" title="macè¿æ¥äº¤æ¢æœº"></a>macè¿æ¥äº¤æ¢æœº</h3><p>ç”±äºåœ¨macä¸­æ²¡æœ‰åƒwindowsä¸­xshellè¿™æ ·ç®€å•æ–¹ä¾¿çš„ä¸²å£è¿æ¥å·¥å…·ï¼Œå› æ­¤æˆ‘ä»¬åªèƒ½ä½¿ç”¨screenæ¥è¿æ¥äº¤æ¢æœº</p>
<p>é¦–å…ˆç”¨ä¸²å£çº¿è¿æ¥äº¤æ¢æœºï¼Œç„¶åæŸ¥çœ‹æ¥å…¥çš„ä¸²å£è®¾å¤‡ï¼Œä»–ä»¬æ”¾åœ¨/devä¸‹é¢ ç”±äºä¸åŒçš„ä¸²å£çº¿å‘½åä¸åŒï¼Œä½†æ˜¯ä»–ä»¬åº”è¯¥éƒ½ä¼šå¸¦æœ‰usbå­—æ ·</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">ls /dev | grep -i tty.*usb</span><br><span class="line">screen /dev/tty.usbxxxxx  9600</span><br></pre></td></tr></tbody></table></figure>
<p>è¿™é‡Œ9600ä¸ºäº¤æ¢æœºçš„é»˜è®¤æ³¢ç‰¹ç‡ï¼Œä½†ä½ ä¹Ÿå¯ä»¥åœ¨äº¤æ¢æœºæ›´æ¢æ³¢ç‰¹ç‡çš„å†…å®¹</p>
<h3 id="macä¸‹ä½¿ç”¨ftp"><a href="#macä¸‹ä½¿ç”¨ftp" class="headerlink" title="macä¸‹ä½¿ç”¨ftp"></a>macä¸‹ä½¿ç”¨ftp</h3><p>ç”±äºæ–°çš„Macç³»ç»Ÿå»è°ƒäº†è‡ªå¸¦çš„telnetå‘½ä»¤å’Œftpå‘½ä»¤ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥æˆ‘ä»¬è¦å®‰è£…ftpå‘½ä»¤ã€‚<br>æˆ‘çš„ç³»ç»Ÿæ˜¯10.13.6</p>
<p>ftpçš„å®‰è£…éœ€è¦å¾ˆå¤šçš„è½¯ä»¶ä¾èµ–</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">brew install telnet</span><br><span class="line">brew install inetutils</span><br><span class="line">brew link --overwrite inetutils</span><br></pre></td></tr></tbody></table></figure>
<p><font color="red">ç™»é™†-</font></p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line"><span class="hljs-comment"># æ–¹å¼ä¸€</span></span><br><span class="line">ftp ip</span><br><span class="line"><span class="hljs-comment"># æ–¹å¼äºŒ</span></span><br><span class="line">ftp </span><br><span class="line">open ip</span><br></pre></td></tr></tbody></table></figure>
<p><a href="https://www.jianshu.com/p/10c4e46c77f1" target="_blank" rel="noopener">https://www.jianshu.com/p/10c4e46c77f1</a><br>ftpä½¿ç”¨æ–¹æ³•<br><a href="https://blog.csdn.net/tianlesoftware/article/details/5818990" target="_blank" rel="noopener">https://blog.csdn.net/tianlesoftware/article/details/5818990</a></p>
<h3 id="macä¸‹æ”¹é”®è®°å½•"><a href="#macä¸‹æ”¹é”®è®°å½•" class="headerlink" title="macä¸‹æ”¹é”®è®°å½•"></a>macä¸‹æ”¹é”®è®°å½•</h3><p>ä½¿ç”¨karabiner-elementä¿®æ”¹macæŒ‰é”®<br>ä¿®æ”¹å†…å®¹ä¸º:<br>åˆ‡æ¢è¾“å…¥æ³• ç”±ä¹‹å‰çš„caps lockæ”¹æˆ shift<br>ä¹‹å‰çš„caps æ”¹æˆäº† control</p>
<ol>
<li>ä¸‹è½½karabiner-element</li>
<li>åœ¨simple modifitions ä¸­ä¿®æ”¹æ˜ å°„<br>from key caps_lock<br>to_key left_control</li>
<li>ä¿®æ”¹shiftå’Œcaps<br>ç”±äºkarabiner-elementä¸æ”¯æŒåœ¨çª—å£ä¸­ä¿®æ”¹ï¼Œä½†å¯ä»¥æŒ‡å®šjsonå½¢å¼çš„é…ç½®æ–‡ä»¶<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">vi /Users/alpaca/.config/karabiner/karabiner.json</span><br><span class="line">                <span class="hljs-string">"rules"</span>: [</span><br><span class="line">                    {</span><br><span class="line">                        <span class="hljs-string">"manipulators"</span>: [</span><br><span class="line">                            {</span><br><span class="line">                                <span class="hljs-string">"description"</span>: <span class="hljs-string">"Change left_shift to control+space when used alone"</span>,</span><br><span class="line">                                <span class="hljs-string">"from"</span>: {</span><br><span class="line">                                    <span class="hljs-string">"key_code"</span>: <span class="hljs-string">"left_shift"</span>,</span><br><span class="line">                                    <span class="hljs-string">"modifiers"</span>: {</span><br><span class="line">                                        <span class="hljs-string">"optional"</span>: [</span><br><span class="line">                                            <span class="hljs-string">"any"</span></span><br><span class="line">                                        ]</span><br><span class="line">                                    }</span><br><span class="line">                                },</span><br><span class="line">                                <span class="hljs-string">"to"</span>: [</span><br><span class="line">                                    {</span><br><span class="line">                                        <span class="hljs-string">"key_code"</span>: <span class="hljs-string">"left_shift"</span></span><br><span class="line">                                    }</span><br><span class="line">                                ],</span><br><span class="line">                                <span class="hljs-string">"to_if_alone"</span>: [</span><br><span class="line">                                    {</span><br><span class="line">                                        <span class="hljs-string">"key_code"</span>: <span class="hljs-string">"spacebar"</span>,</span><br><span class="line">                                        <span class="hljs-string">"modifiers"</span>: [</span><br><span class="line">                                            <span class="hljs-string">"left_control"</span></span><br><span class="line">                                        ]</span><br><span class="line">                                    }</span><br><span class="line">                                ],</span><br><span class="line">                                <span class="hljs-string">"type"</span>: <span class="hljs-string">"basic"</span></span><br><span class="line">                            }</span><br><span class="line">                        ]</span><br><span class="line">                    }</span><br><span class="line">                ]</span><br></pre></td></tr></tbody></table></figure>

</li>
</ol>
<h3 id="mac-usr-bin-python-æƒé™é—®é¢˜"><a href="#mac-usr-bin-python-æƒé™é—®é¢˜" class="headerlink" title="mac /usr/bin/python æƒé™é—®é¢˜"></a>mac /usr/bin/python æƒé™é—®é¢˜</h3><p>operation not permitted<br>ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬åœ¨ä½¿ç”¨macç³»ç»Ÿè¿‡ç¨‹ä¸­ä¸‹è½½ä¸€äº›æ–‡ä»¶ã€æ–°å»ºä¸€äº›é¡¹ç›®ä¹‹åï¼Œè¿™äº›æ–‡ä»¶éƒ½ä¼šé»˜è®¤æ˜¯åªè¯»çŠ¶æ€ï¼Œè¿™æ—¶æˆ‘ä»¬åªéœ€è¦ç®€å•çš„ä¸€å¥æƒé™è®¾ç½®å‘½ä»¤å°±å¯ä»¥è§£å†³</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">sudo chmod -R 777 filename</span><br></pre></td></tr></tbody></table></figure>
<p>/usr/binä¸‹é¢çš„æ–‡ä»¶åœ¨macä¸­ä¼šå‡ºç°ä¸€ä¸‹çš„é”™è¯¯</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">operation not permitted</span><br></pre></td></tr></tbody></table></figure>
<p>è¿™æ˜¯å› ä¸ºmacå¯ç”¨äº†SIPï¼ˆSystem Integrity Protectionï¼‰ï¼Œå¢åŠ äº†rootlessæœºåˆ¶ï¼Œå¯¼è‡´å³ä½¿åœ¨rootæƒé™ä¸‹ä¾ç„¶æ— æ³•ä¿®æ”¹æ–‡ä»¶ï¼Œåœ¨å¿…è¦æ—¶å€™ä¸ºäº†èƒ½å¤Ÿä¿®æ”¹ä¸‹é¢çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬åªèƒ½å…³é—­è¯¥ä¿æŠ¤æœºåˆ¶</p>
<p>1) é‡å¯ å¼€æœºè¿‡ç¨‹ä¸­æŒ‰ä½command+R è¿›å…¥ä¿æŠ¤æ¨¡å¼<br>2) æ‰“å¼€ç»ˆç«¯ </p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">csrutil <span class="hljs-built_in">disable</span></span><br></pre></td></tr></tbody></table></figure>
<p>3) å†æ¬¡é‡å¯ï¼Œå°±å¯ä»¥ä¿®æ”¹/usr/binä¸‹çš„ç›®å½•æ–‡ä»¶ </p>
<p>4)æ¢å¤ä¿æŠ¤æœºåˆ¶</p>
<figure class="highlight bash hljs"><table><tbody><tr><td class="code"><pre><span class="line">csrutil <span class="hljs-built_in">enable</span></span><br></pre></td></tr></tbody></table></figure></body></html>
        </div>
        
        
        
        
    </div>
</div>










    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous">
            <a class="is-flex-grow has-text-black-ter" href="/page/9/">ä¸Šä¸€é¡µ</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/page/11/">ä¸‹ä¸€é¡µ</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link has-text-black-ter" href="/">1</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/9/">9</a></li>
            
            <li><a class="pagination-link is-current" href="/page/10/">10</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/11/">11</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/12/">12</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <nav class="level" style="margin-bottom:1rem">
            <div class="level-item has-text-centered">
                <div>
                    
                        <img class="image is-96x96 has-mb-6" src="http://image.noback.top/dataheader.jpeg" alt="">
                    
                    
                    
                    <p class="is-size-6 is-block">
                        hzj
                    </p>
                    
                    
                </div>
            </div>
        </nav>
        <nav class="level menu-list is-mobile" style="margin-bottom:1rem">
            <div class="level-item has-text-centered is-marginless">
                <a href="/archives/">
                    <p class="heading">
                        æ–‡ç« 
                    </p>
                    <p class="title has-text-weight-normal">
                        114
                    </p>
                </a>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <a href="/categories/">
                    <p class="heading">
                        åˆ†ç±»
                    </p>
                    <p class="title has-text-weight-normal">
                        28
                    </p>
                </a>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <a href="/tags/">
                    <p class="heading">
                        æ ‡ç­¾
                    </p>
                    <p class="title has-text-weight-normal">
                        19
                    </p>
                </a>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="/" target="_blank">
                <i class="fab fa-github"></i>&nbsp;&nbsp;å…³æ³¨æˆ‘</a>
        </div>
        
        
    </div>
</div>

        
            

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            é“¾æ¥
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://hexo.io" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Hexo</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">hexo.io</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://www.ttlsa.com/linux/haproxy-study-tutorial/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">è¿ç»´ç”Ÿå­˜æ—¶é—´</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.ttlsa.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


        
            <div class="card widget is-hidden-mobile">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            å½’æ¡£
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">äºŒæœˆ 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">48</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">ä¸€æœˆ 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">34</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">åäºŒæœˆ 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">32</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                æ ‡ç­¾
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CI-CD/">
                        <span class="tag">CI-CD</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Command/">
                        <span class="tag">Command</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/code/">
                        <span class="tag">code</span>
                        <span class="tag is-grey">19</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/codee/">
                        <span class="tag">codee</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/daily/">
                        <span class="tag">daily</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/django/">
                        <span class="tag">django</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/docker/">
                        <span class="tag">docker</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/git/">
                        <span class="tag">git</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/linux/">
                        <span class="tag">linux</span>
                        <span class="tag is-grey">14</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mysql/">
                        <span class="tag">mysql</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/nginx/">
                        <span class="tag">nginx</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/rust/">
                        <span class="tag">rust</span>
                        <span class="tag is-grey">18</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/vim/">
                        <span class="tag">vim</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/vue/">
                        <span class="tag">vue</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E5%B7%A5%E5%85%B7/">
                        <span class="tag">å·¥å…·</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E7%BC%96%E7%A8%8B/">
                        <span class="tag">ç¼–ç¨‹</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E8%AE%B0%E4%BA%8B%E6%9C%AC/">
                        <span class="tag">è®°äº‹æœ¬</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/">
                        <span class="tag">è´Ÿè½½å‡è¡¡</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>


                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level" style="margin-bottom:1rem">
            <div class="level-item has-text-centered">
                <div>
                    
                        <img class="image is-96x96 has-mb-6" src="http://image.noback.top/dataheader.jpeg" alt="">
                    
                    
                    
                    <p class="is-size-6 is-block">
                        hzj
                    </p>
                    
                    
                </div>
            </div>
        </nav>
        <nav class="level menu-list is-mobile" style="margin-bottom:1rem">
            <div class="level-item has-text-centered is-marginless">
                <a href="/archives/">
                    <p class="heading">
                        æ–‡ç« 
                    </p>
                    <p class="title has-text-weight-normal">
                        114
                    </p>
                </a>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <a href="/categories/">
                    <p class="heading">
                        åˆ†ç±»
                    </p>
                    <p class="title has-text-weight-normal">
                        28
                    </p>
                </a>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <a href="/tags/">
                    <p class="heading">
                        æ ‡ç­¾
                    </p>
                    <p class="title has-text-weight-normal">
                        19
                    </p>
                </a>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="/" target="_blank">
                <i class="fab fa-github"></i>&nbsp;&nbsp;å…³æ³¨æˆ‘</a>
        </div>
        
        
    </div>
</div>

    
        

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            é“¾æ¥
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://hexo.io" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Hexo</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">hexo.io</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="http://www.ttlsa.com/linux/haproxy-study-tutorial/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">è¿ç»´ç”Ÿå­˜æ—¶é—´</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.ttlsa.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


    
        <div class="card widget is-hidden-mobile">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            å½’æ¡£
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">äºŒæœˆ 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">48</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">ä¸€æœˆ 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">34</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">åäºŒæœˆ 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">32</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                æ ‡ç­¾
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CI-CD/">
                        <span class="tag">CI-CD</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Command/">
                        <span class="tag">Command</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/code/">
                        <span class="tag">code</span>
                        <span class="tag is-grey">19</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/codee/">
                        <span class="tag">codee</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/daily/">
                        <span class="tag">daily</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/django/">
                        <span class="tag">django</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/docker/">
                        <span class="tag">docker</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/git/">
                        <span class="tag">git</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/linux/">
                        <span class="tag">linux</span>
                        <span class="tag is-grey">14</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mysql/">
                        <span class="tag">mysql</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/nginx/">
                        <span class="tag">nginx</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/rust/">
                        <span class="tag">rust</span>
                        <span class="tag is-grey">18</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/vim/">
                        <span class="tag">vim</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/vue/">
                        <span class="tag">vue</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E5%B7%A5%E5%85%B7/">
                        <span class="tag">å·¥å…·</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E7%BC%96%E7%A8%8B/">
                        <span class="tag">ç¼–ç¨‹</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E8%AE%B0%E4%BA%8B%E6%9C%AC/">
                        <span class="tag">è®°äº‹æœ¬</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/">
                        <span class="tag">è´Ÿè½½å‡è¡¡</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>


            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="http://image.noback.top/datadog.svg" alt="Alpaca&#39;s blog | how to win" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 ä½•æ³½å›&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        href="http://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                <br>
                <span id="busuanzi_container_site_uv">
                å…±<span id="busuanzi_value_site_uv">0</span>ä¸ªè®¿å®¢
                </span>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
                        
                        <i class="fab fa-creative-commons"></i>&nbsp;<i class="fab fa-creative-commons-by"></i>&nbsp;<i class="fab fa-creative-commons-nc"></i>&nbsp;<i class="fab fa-creative-commons-sa"></i>&nbsp;
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="AlphaLxy GitHub" href="https://www.github.com/AlphaLxy">
                        
                        <i class="fab fa-github"></i>&nbsp;
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/" target="_blank" rel="noopener">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    

    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'æ–‡ç« ',
                PAGES: 'é¡µé¢',
                CATEGORIES: 'åˆ†ç±»',
                TAGS: 'æ ‡ç­¾',
                UNTITLED: '(æ— æ ‡é¢˜)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>
